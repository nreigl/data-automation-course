<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-c1a710b87fdbbc261b299828f9835b21.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.18">

  <meta name="author" content="Nicolas">
  <meta name="dcterms.date" content="2025-04-17">
  <title>Data Automation Course – Fetching and Visualizing Official Statistics with R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-250687541b6fd0303e6fa9a425de9713.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
  <script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
  <script src="../site_libs/plotly-binding-4.10.4/plotly.js"></script>
  <script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>
  <script src="../site_libs/jquery-3.5.1/jquery.min.js"></script>
  <link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
  <script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
  <link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
  <script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Fetching and Visualizing Official Statistics with R</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Nicolas 
</div>
        <p class="quarto-title-affiliation">
            Eesti Pank
          </p>
    </div>
</div>

  <p class="date">2025-04-17</p>
</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">Table of contents</h2>
<ul>
<li class="fragment"><a href="#/interfaces-to-official-statistics" id="/toc-interfaces-to-official-statistics">Interfaces to Official Statistics</a>
<ul>

<li class="fragment">
<ul>
<li class="fragment"><a href="#/dbnomics" id="/toc-dbnomics">DBnomics</a></li>
</ul></li>
<li class="fragment"><a href="#/how-to-fetch-data-from-dbnomics-using-r" id="/toc-how-to-fetch-data-from-dbnomics-using-r">How to fetch data (from DBnomics using R)</a></li>
<li class="fragment">
<ul>
<li class="fragment"><a href="#/packages-used-in-this-tutorial" id="/toc-packages-used-in-this-tutorial">Packages used in this tutorial</a></li>
</ul></li>
<li class="fragment">
<ul>
<li class="fragment"><a href="#/example-fetch-unemployment-data" id="/toc-example-fetch-unemployment-data">Example: Fetch Unemployment Data</a></li>
</ul></li>



<li class="fragment">
<ul>
<li class="fragment"><a href="#/interactive-plot" id="/toc-interactive-plot">Interactive plot</a></li>
</ul></li>
<li class="fragment">
<ul>
<li class="fragment"><a href="#/how-do-we-find-the-series-idmaskdimensions" id="/toc-how-do-we-find-the-series-idmaskdimensions">How do we find the series ID/mask/dimensions?</a></li>
</ul></li>



<li class="fragment"><a href="#/fetch-two-or-more-series-at-once" id="/toc-fetch-two-or-more-series-at-once">Fetch two (or more) series at once</a></li>

<li class="fragment"><a href="#/fetch-two-series-from-different-datasets-of-different-providers" id="/toc-fetch-two-series-from-different-datasets-of-different-providers">Fetch two series from different datasets of different providers</a></li>





<li class="fragment"><a href="#/fetch-large-amounts-of-data" id="/toc-fetch-large-amounts-of-data">Fetch large amounts of data</a></li>
<li class="fragment">
<ul>
<li class="fragment"><a href="#/wildcarding-dimensions" id="/toc-wildcarding-dimensions">Wildcarding dimensions</a></li>
</ul></li>
<li class="fragment">
<ul>
<li class="fragment"><a href="#/filter-and-plot" id="/toc-filter-and-plot">Filter and plot</a></li>
</ul></li>
<li class="fragment">
<ul>
<li class="fragment"><a href="#/plot-interest-rates-by-country-type" id="/toc-plot-interest-rates-by-country-type">Plot interest rates by country &amp; type</a></li>
</ul></li>

</ul></li>
</ul>
</nav>
</section>
<section>
<section id="interfaces-to-official-statistics" class="title-slide slide level1 center">
<h1>Interfaces to Official Statistics</h1>
<ul>
<li class="fragment">Packages or set of classes and methods to read data and metadata documents through exchange frameworks
<ul>
<li class="fragment">Use <a href="https://www.r-project.org/">R</a> (or <a href="https://www.python.org/">Python</a>) packages to read data from APIs, databases, and web pages
<ul>
<li class="fragment">Individual packages:
<ul>
<li class="fragment"><a href="https://cran.r-project.org/package=eurostat">eurostat</a>: Access data from Eurostat</li>
<li class="fragment"><a href="https://cran.r-project.org/package=OECD">OECD</a>: Access data from the OECD API</li>
</ul></li>
</ul></li>
<li class="fragment">General-purpose packages:
<ul>
<li class="fragment"><a href="https://cran.r-project.org/package=rdbnomics">rdbnomics</a>: Unified access to many economic databases (e.g.&nbsp;ECB, <strong>Eurostat</strong>, IMF, World Bank)</li>
</ul></li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li class="fragment">Interface standards:
<ul>
<li class="fragment"><a href="https://sdmx.org/?page_id=5008">SDMX</a>: Statistical Data and Metadata Exchange format</li>
<li class="fragment"><a href="https://cran.r-project.org/package=pxweb">pxweb</a>: Access to data sources using the PX-Web API (e.g.&nbsp;Statistics Sweden, Statistics Estonia)</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<h3 id="dbnomics">DBnomics</h3>
<ul>
<li class="fragment"><a href="https://db.nomics.world/">DBnomics</a> is a database of databases
<ul>
<li class="fragment">free platform to aggregate publicly-available economic data provided by national and international statistical institutions, but also by researchers and private companies</li>
<li class="fragment">Unified interface to access data from many sources</li>
<li class="fragment">Harmonized data formats and metadata</li>
<li class="fragment">Data series are available upon release by the provider</li>
<li class="fragment">Each revision is archived to build a real-time database</li>
</ul></li>
</ul>
</section>
<section id="how-to-fetch-data-from-dbnomics-using-r" class="slide level2">
<h2>How to fetch data (from DBnomics using R)</h2>
<ul>
<li class="fragment">DBnomics R client</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">install.packages</span>(<span class="st">"rdbnomics"</span>)</span>
<span id="cb1-2"><a></a><span class="fu">library</span>(rdbnomics)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="packages-used-in-this-tutorial">Packages used in this tutorial</h3>
<ul>
<li class="fragment">📦 Fetching data (<code>rdbnomics</code>)</li>
<li class="fragment">🧹 Data wrangling and transformation (<code>tidyverse</code>)</li>
<li class="fragment">📊 Visualization (<code>ggplot2</code>, <code>plotly</code>)</li>
<li class="fragment">📋 Tabular summaries (<code>gt</code>)</li>
<li class="fragment">🧾 Building this presentation (<code>quarto</code>)</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="fu">library</span>(quarto)     <span class="co"># for compiling Quarto presentations</span></span>
<span id="cb2-2"><a></a><span class="fu">library</span>(rdbnomics)  <span class="co"># for accessing economic data via DBnomics</span></span>
<span id="cb2-3"><a></a><span class="fu">library</span>(tidyverse)  <span class="co"># dplyr, ggplot2, readr, etc.</span></span>
<span id="cb2-4"><a></a><span class="fu">library</span>(plotly)     <span class="co"># interactive visualizations</span></span>
<span id="cb2-5"><a></a><span class="fu">library</span>(gt)         <span class="co"># pretty tables</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="example-fetch-unemployment-data">Example: Fetch Unemployment Data</h3>
<ul>
<li class="fragment">Assume we know exactly the series ID we want to fetch
<ul>
<li class="fragment">Unemployment rate, ILO definition, total, Estonia, from Eurostat</li>
</ul></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a>unemp <span class="ot">&lt;-</span> <span class="fu">rdb</span>(<span class="at">ids =</span> <span class="st">"Eurostat/ei_lmhr_m/M.PC_ACT.SA.LM-UN-T-TOT.EE"</span>) <span class="co"># fetch data</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">glimpse</span>(unemp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 296
Columns: 22
$ `@frequency`                      &lt;chr&gt; "monthly", "monthly", "monthly", "mo…
$ dataset_code                      &lt;chr&gt; "ei_lmhr_m", "ei_lmhr_m", "ei_lmhr_m…
$ dataset_name                      &lt;chr&gt; "Unemployment rate (%) - monthly dat…
$ freq                              &lt;chr&gt; "M", "M", "M", "M", "M", "M", "M", "…
$ geo                               &lt;chr&gt; "EE", "EE", "EE", "EE", "EE", "EE", …
$ `Geopolitical entity (reporting)` &lt;chr&gt; "Estonia", "Estonia", "Estonia", "Es…
$ indexed_at                        &lt;dttm&gt; 2024-10-31 15:26:51, 2024-10-31 15:…
$ indic                             &lt;chr&gt; "LM-UN-T-TOT", "LM-UN-T-TOT", "LM-UN…
$ Indicator                         &lt;chr&gt; "Unemployment according to ILO defin…
$ observations_attributes           &lt;chr&gt; "OBS_FLAG,", "OBS_FLAG,", "OBS_FLAG,…
$ original_period                   &lt;chr&gt; "2000-02", "2000-03", "2000-04", "20…
$ original_value                    &lt;chr&gt; "14.9", "14.2", "14.5", "13.9", "14"…
$ period                            &lt;date&gt; 2000-02-01, 2000-03-01, 2000-04-01,…
$ provider_code                     &lt;chr&gt; "Eurostat", "Eurostat", "Eurostat", …
$ s_adj                             &lt;chr&gt; "SA", "SA", "SA", "SA", "SA", "SA", …
$ `Seasonal adjustment`             &lt;chr&gt; "Seasonally adjusted data, not calen…
$ series_code                       &lt;chr&gt; "M.PC_ACT.SA.LM-UN-T-TOT.EE", "M.PC_…
$ series_name                       &lt;chr&gt; "Monthly – Percentage of population …
$ `Time frequency`                  &lt;chr&gt; "Monthly", "Monthly", "Monthly", "Mo…
$ unit                              &lt;chr&gt; "PC_ACT", "PC_ACT", "PC_ACT", "PC_AC…
$ `Unit of measure`                 &lt;chr&gt; "Percentage of population in the lab…
$ value                             &lt;dbl&gt; 14.9, 14.2, 14.5, 13.9, 14.0, 13.9, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a><span class="fu">colnames</span>(unemp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "@frequency"                      "dataset_code"                   
 [3] "dataset_name"                    "freq"                           
 [5] "geo"                             "Geopolitical entity (reporting)"
 [7] "indexed_at"                      "indic"                          
 [9] "Indicator"                       "observations_attributes"        
[11] "original_period"                 "original_value"                 
[13] "period"                          "provider_code"                  
[15] "s_adj"                           "Seasonal adjustment"            
[17] "series_code"                     "series_name"                    
[19] "Time frequency"                  "unit"                           
[21] "Unit of measure"                 "value"                          </code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="co"># Extract source and series ID from the metadata</span></span>
<span id="cb8-2"><a></a>(source_name <span class="ot">&lt;-</span> <span class="fu">unique</span>(unemp<span class="sc">$</span>dataset_code))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ei_lmhr_m"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a>(provider_code <span class="ot">&lt;-</span> <span class="fu">unique</span>(unemp<span class="sc">$</span>provider_code))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Eurostat"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a>(country_name <span class="ot">&lt;-</span> <span class="fu">unique</span>(unemp<span class="sc">$</span><span class="st">`</span><span class="at">Geopolitical entity (reporting)</span><span class="st">`</span>)  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Estonia"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a>(series_id <span class="ot">&lt;-</span> <span class="fu">unique</span>(unemp<span class="sc">$</span>series_code))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "M.PC_ACT.SA.LM-UN-T-TOT.EE"</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a><span class="co"># Plot the data</span></span>
<span id="cb16-2"><a></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(unemp, <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb16-3"><a></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"steelblue"</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb16-4"><a></a>  <span class="fu">labs</span>(</span>
<span id="cb16-5"><a></a>    <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Unemployment Rate in "</span>, country_name),</span>
<span id="cb16-6"><a></a>    <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"Monthly, seasonally adjusted —"</span>, provider_code),</span>
<span id="cb16-7"><a></a>    <span class="at">x =</span> <span class="st">"Date"</span>, <span class="at">y =</span> <span class="st">"Percent"</span>,</span>
<span id="cb16-8"><a></a>    <span class="at">caption =</span> <span class="fu">paste</span>(<span class="st">"Source:"</span>, provider_code, <span class="st">"| Dataset:"</span>, source_name, <span class="st">"| ID:"</span>, series_id)</span>
<span id="cb16-9"><a></a>  ) <span class="sc">+</span></span>
<span id="cb16-10"><a></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb16-11"><a></a>p1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="" class="slide level2 output-location-slide"><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="fetching_files/figure-revealjs/unnamed-chunk-6-1.png" width="960"></p>
</figure>
</div>
</div>
</div></section><section class="slide level2">

<h3 id="interactive-plot">Interactive plot</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a><span class="fu">ggplotly</span>(p1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-30d316cea969b450aeeb" style="width:960px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-30d316cea969b450aeeb">{"x":{"data":[{"x":[10988,11017,11048,11078,11109,11139,11170,11201,11231,11262,11292,11323,11354,11382,11413,11443,11474,11504,11535,11566,11596,11627,11657,11688,11719,11747,11778,11808,11839,11869,11900,11931,11961,11992,12022,12053,12084,12112,12143,12173,12204,12234,12265,12296,12326,12357,12387,12418,12449,12478,12509,12539,12570,12600,12631,12662,12692,12723,12753,12784,12815,12843,12874,12904,12935,12965,12996,13027,13057,13088,13118,13149,13180,13208,13239,13269,13300,13330,13361,13392,13422,13453,13483,13514,13545,13573,13604,13634,13665,13695,13726,13757,13787,13818,13848,13879,13910,13939,13970,14000,14031,14061,14092,14123,14153,14184,14214,14245,14276,14304,14335,14365,14396,14426,14457,14488,14518,14549,14579,14610,14641,14669,14700,14730,14761,14791,14822,14853,14883,14914,14944,14975,15006,15034,15065,15095,15126,15156,15187,15218,15248,15279,15309,15340,15371,15400,15431,15461,15492,15522,15553,15584,15614,15645,15675,15706,15737,15765,15796,15826,15857,15887,15918,15949,15979,16010,16040,16071,16102,16130,16161,16191,16222,16252,16283,16314,16344,16375,16405,16436,16467,16495,16526,16556,16587,16617,16648,16679,16709,16740,16770,16801,16832,16861,16892,16922,16953,16983,17014,17045,17075,17106,17136,17167,17198,17226,17257,17287,17318,17348,17379,17410,17440,17471,17501,17532,17563,17591,17622,17652,17683,17713,17744,17775,17805,17836,17866,17897,17928,17956,17987,18017,18048,18078,18109,18140,18170,18201,18231,18262,18293,18322,18353,18383,18414,18444,18475,18506,18536,18567,18597,18628,18659,18687,18718,18748,18779,18809,18840,18871,18901,18932,18962,18993,19024,19052,19083,19113,19144,19174,19205,19236,19266,19297,19327,19358,19389,19417,19448,19478,19509,19539,19570,19601,19631,19662,19692,19723,19754,19783,19814,19844,19875,19905,19936,19967],"y":[14.9,14.199999999999999,14.5,13.9,14,13.9,14.300000000000001,14.199999999999999,14.1,14.4,14.300000000000001,14.4,13.9,14,14.199999999999999,13.6,12.9,13.1,12.6,12.699999999999999,11.6,11.9,11.5,11.6,11.6,11.199999999999999,10.699999999999999,10.5,11.199999999999999,11.4,11.199999999999999,11.300000000000001,11.800000000000001,11.5,11.9,11.4,11.199999999999999,11.1,10.800000000000001,11.1,11,10.5,10.1,9.0999999999999996,9.3000000000000007,9.4000000000000004,10.4,10.6,10,9.6999999999999993,9.5999999999999996,9.9000000000000004,9.6999999999999993,10,10.4,10.199999999999999,10.300000000000001,9.5,9.5,9.1999999999999993,9.3000000000000007,8.5999999999999996,8.3000000000000007,8,7.9000000000000004,7.7000000000000002,7.5999999999999996,7.7999999999999998,7.5999999999999996,7.2000000000000002,6.7999999999999998,6.5999999999999996,6.2000000000000002,6.2999999999999998,6,6.4000000000000004,6.2000000000000002,6,5.7999999999999998,5.5999999999999996,5.7999999999999998,5.4000000000000004,5.0999999999999996,5,4.9000000000000004,5.0999999999999996,4.9000000000000004,4.9000000000000004,4.7000000000000002,4.2000000000000002,4.0999999999999996,4,4,4,4.0999999999999996,4.2999999999999998,4.4000000000000004,4.2999999999999998,4.5,3.8999999999999999,4.2000000000000002,5.2000000000000002,6.2999999999999998,6.7999999999999998,6.9000000000000004,7.5999999999999996,9.3000000000000007,10.1,10.6,11.6,12.300000000000001,12.800000000000001,13,14.300000000000001,15,14.800000000000001,15.5,15.9,17,17.800000000000001,18.5,18.699999999999999,18.5,17.800000000000001,16.899999999999999,15.9,15.9,15.5,14.800000000000001,13.800000000000001,14.199999999999999,14.300000000000001,13.5,13.4,12.800000000000001,12.699999999999999,12.6,11.800000000000001,11.199999999999999,11.300000000000001,11.800000000000001,11.6,10.9,10.800000000000001,10.699999999999999,10.699999999999999,9.8000000000000007,9.8000000000000007,9.8000000000000007,9.9000000000000004,9.9000000000000004,9.1999999999999993,9.1999999999999993,9.3000000000000007,9.5999999999999996,9.6999999999999993,9.3000000000000007,8.8000000000000007,7.9000000000000004,7.7999999999999998,7.7000000000000002,7.7000000000000002,8.1999999999999993,8.5,8.9000000000000004,8.9000000000000004,8.5999999999999996,8.5999999999999996,8,7.7000000000000002,7.4000000000000004,6.7999999999999998,6.7999999999999998,7.2000000000000002,7.7999999999999998,7.5999999999999996,6.9000000000000004,6.5,6.5,6.5999999999999996,6.4000000000000004,6.5999999999999996,6.9000000000000004,6.5,6.0999999999999996,5.5999999999999996,5.7000000000000002,6.2000000000000002,6.5,6.7999999999999998,6.7000000000000002,6.5,6.2999999999999998,6.7000000000000002,6.5,6.2999999999999998,6.7999999999999998,7.0999999999999996,7.7999999999999998,7.4000000000000004,7.4000000000000004,6.7999999999999998,6.4000000000000004,6,5.5,5.5999999999999996,6,6.5,6.0999999999999996,5.7999999999999998,5.4000000000000004,5.7000000000000002,5.5999999999999996,5.7999999999999998,6.2000000000000002,6.5999999999999996,6.4000000000000004,5.7999999999999998,5.0999999999999996,5,4.9000000000000004,5.2999999999999998,5.4000000000000004,5.7000000000000002,5.2999999999999998,4.5999999999999996,4.2999999999999998,4.2999999999999998,4.5,4.5999999999999996,4.9000000000000004,5,4.5,4.0999999999999996,4.0999999999999996,4.5,4.2999999999999998,4.2999999999999998,4.5999999999999996,4.9000000000000004,4.9000000000000004,5.2999999999999998,6.0999999999999996,7,7.7999999999999998,7.5999999999999996,7.9000000000000004,8.0999999999999996,8.1999999999999993,7.9000000000000004,7.2000000000000002,7.2000000000000002,6.7999999999999998,6.5,6.4000000000000004,6.5999999999999996,6.5,6.2999999999999998,6,5.7999999999999998,5.2999999999999998,5.4000000000000004,5.5,5.7999999999999998,5.4000000000000004,5.4000000000000004,5.4000000000000004,5.7000000000000002,5.7999999999999998,5.7999999999999998,5.7999999999999998,5.5,5.5,5.5,5.2999999999999998,5.0999999999999996,5.2000000000000002,5.7999999999999998,6.0999999999999996,6.5999999999999996,7.0999999999999996,7.5,7.5,6.7000000000000002,6.2999999999999998,6.4000000000000004,6.9000000000000004,7.5,7.5,7.5999999999999996,7.5999999999999996,7.4000000000000004,7.4000000000000004,7.7999999999999998,7.5999999999999996,7.5999999999999996],"text":["period: 2000-02-01<br />value: 14.9","period: 2000-03-01<br />value: 14.2","period: 2000-04-01<br />value: 14.5","period: 2000-05-01<br />value: 13.9","period: 2000-06-01<br />value: 14.0","period: 2000-07-01<br />value: 13.9","period: 2000-08-01<br />value: 14.3","period: 2000-09-01<br />value: 14.2","period: 2000-10-01<br />value: 14.1","period: 2000-11-01<br />value: 14.4","period: 2000-12-01<br />value: 14.3","period: 2001-01-01<br />value: 14.4","period: 2001-02-01<br />value: 13.9","period: 2001-03-01<br />value: 14.0","period: 2001-04-01<br />value: 14.2","period: 2001-05-01<br />value: 13.6","period: 2001-06-01<br />value: 12.9","period: 2001-07-01<br />value: 13.1","period: 2001-08-01<br />value: 12.6","period: 2001-09-01<br />value: 12.7","period: 2001-10-01<br />value: 11.6","period: 2001-11-01<br />value: 11.9","period: 2001-12-01<br />value: 11.5","period: 2002-01-01<br />value: 11.6","period: 2002-02-01<br />value: 11.6","period: 2002-03-01<br />value: 11.2","period: 2002-04-01<br />value: 10.7","period: 2002-05-01<br />value: 10.5","period: 2002-06-01<br />value: 11.2","period: 2002-07-01<br />value: 11.4","period: 2002-08-01<br />value: 11.2","period: 2002-09-01<br />value: 11.3","period: 2002-10-01<br />value: 11.8","period: 2002-11-01<br />value: 11.5","period: 2002-12-01<br />value: 11.9","period: 2003-01-01<br />value: 11.4","period: 2003-02-01<br />value: 11.2","period: 2003-03-01<br />value: 11.1","period: 2003-04-01<br />value: 10.8","period: 2003-05-01<br />value: 11.1","period: 2003-06-01<br />value: 11.0","period: 2003-07-01<br />value: 10.5","period: 2003-08-01<br />value: 10.1","period: 2003-09-01<br />value:  9.1","period: 2003-10-01<br />value:  9.3","period: 2003-11-01<br />value:  9.4","period: 2003-12-01<br />value: 10.4","period: 2004-01-01<br />value: 10.6","period: 2004-02-01<br />value: 10.0","period: 2004-03-01<br />value:  9.7","period: 2004-04-01<br />value:  9.6","period: 2004-05-01<br />value:  9.9","period: 2004-06-01<br />value:  9.7","period: 2004-07-01<br />value: 10.0","period: 2004-08-01<br />value: 10.4","period: 2004-09-01<br />value: 10.2","period: 2004-10-01<br />value: 10.3","period: 2004-11-01<br />value:  9.5","period: 2004-12-01<br />value:  9.5","period: 2005-01-01<br />value:  9.2","period: 2005-02-01<br />value:  9.3","period: 2005-03-01<br />value:  8.6","period: 2005-04-01<br />value:  8.3","period: 2005-05-01<br />value:  8.0","period: 2005-06-01<br />value:  7.9","period: 2005-07-01<br />value:  7.7","period: 2005-08-01<br />value:  7.6","period: 2005-09-01<br />value:  7.8","period: 2005-10-01<br />value:  7.6","period: 2005-11-01<br />value:  7.2","period: 2005-12-01<br />value:  6.8","period: 2006-01-01<br />value:  6.6","period: 2006-02-01<br />value:  6.2","period: 2006-03-01<br />value:  6.3","period: 2006-04-01<br />value:  6.0","period: 2006-05-01<br />value:  6.4","period: 2006-06-01<br />value:  6.2","period: 2006-07-01<br />value:  6.0","period: 2006-08-01<br />value:  5.8","period: 2006-09-01<br />value:  5.6","period: 2006-10-01<br />value:  5.8","period: 2006-11-01<br />value:  5.4","period: 2006-12-01<br />value:  5.1","period: 2007-01-01<br />value:  5.0","period: 2007-02-01<br />value:  4.9","period: 2007-03-01<br />value:  5.1","period: 2007-04-01<br />value:  4.9","period: 2007-05-01<br />value:  4.9","period: 2007-06-01<br />value:  4.7","period: 2007-07-01<br />value:  4.2","period: 2007-08-01<br />value:  4.1","period: 2007-09-01<br />value:  4.0","period: 2007-10-01<br />value:  4.0","period: 2007-11-01<br />value:  4.0","period: 2007-12-01<br />value:  4.1","period: 2008-01-01<br />value:  4.3","period: 2008-02-01<br />value:  4.4","period: 2008-03-01<br />value:  4.3","period: 2008-04-01<br />value:  4.5","period: 2008-05-01<br />value:  3.9","period: 2008-06-01<br />value:  4.2","period: 2008-07-01<br />value:  5.2","period: 2008-08-01<br />value:  6.3","period: 2008-09-01<br />value:  6.8","period: 2008-10-01<br />value:  6.9","period: 2008-11-01<br />value:  7.6","period: 2008-12-01<br />value:  9.3","period: 2009-01-01<br />value: 10.1","period: 2009-02-01<br />value: 10.6","period: 2009-03-01<br />value: 11.6","period: 2009-04-01<br />value: 12.3","period: 2009-05-01<br />value: 12.8","period: 2009-06-01<br />value: 13.0","period: 2009-07-01<br />value: 14.3","period: 2009-08-01<br />value: 15.0","period: 2009-09-01<br />value: 14.8","period: 2009-10-01<br />value: 15.5","period: 2009-11-01<br />value: 15.9","period: 2009-12-01<br />value: 17.0","period: 2010-01-01<br />value: 17.8","period: 2010-02-01<br />value: 18.5","period: 2010-03-01<br />value: 18.7","period: 2010-04-01<br />value: 18.5","period: 2010-05-01<br />value: 17.8","period: 2010-06-01<br />value: 16.9","period: 2010-07-01<br />value: 15.9","period: 2010-08-01<br />value: 15.9","period: 2010-09-01<br />value: 15.5","period: 2010-10-01<br />value: 14.8","period: 2010-11-01<br />value: 13.8","period: 2010-12-01<br />value: 14.2","period: 2011-01-01<br />value: 14.3","period: 2011-02-01<br />value: 13.5","period: 2011-03-01<br />value: 13.4","period: 2011-04-01<br />value: 12.8","period: 2011-05-01<br />value: 12.7","period: 2011-06-01<br />value: 12.6","period: 2011-07-01<br />value: 11.8","period: 2011-08-01<br />value: 11.2","period: 2011-09-01<br />value: 11.3","period: 2011-10-01<br />value: 11.8","period: 2011-11-01<br />value: 11.6","period: 2011-12-01<br />value: 10.9","period: 2012-01-01<br />value: 10.8","period: 2012-02-01<br />value: 10.7","period: 2012-03-01<br />value: 10.7","period: 2012-04-01<br />value:  9.8","period: 2012-05-01<br />value:  9.8","period: 2012-06-01<br />value:  9.8","period: 2012-07-01<br />value:  9.9","period: 2012-08-01<br />value:  9.9","period: 2012-09-01<br />value:  9.2","period: 2012-10-01<br />value:  9.2","period: 2012-11-01<br />value:  9.3","period: 2012-12-01<br />value:  9.6","period: 2013-01-01<br />value:  9.7","period: 2013-02-01<br />value:  9.3","period: 2013-03-01<br />value:  8.8","period: 2013-04-01<br />value:  7.9","period: 2013-05-01<br />value:  7.8","period: 2013-06-01<br />value:  7.7","period: 2013-07-01<br />value:  7.7","period: 2013-08-01<br />value:  8.2","period: 2013-09-01<br />value:  8.5","period: 2013-10-01<br />value:  8.9","period: 2013-11-01<br />value:  8.9","period: 2013-12-01<br />value:  8.6","period: 2014-01-01<br />value:  8.6","period: 2014-02-01<br />value:  8.0","period: 2014-03-01<br />value:  7.7","period: 2014-04-01<br />value:  7.4","period: 2014-05-01<br />value:  6.8","period: 2014-06-01<br />value:  6.8","period: 2014-07-01<br />value:  7.2","period: 2014-08-01<br />value:  7.8","period: 2014-09-01<br />value:  7.6","period: 2014-10-01<br />value:  6.9","period: 2014-11-01<br />value:  6.5","period: 2014-12-01<br />value:  6.5","period: 2015-01-01<br />value:  6.6","period: 2015-02-01<br />value:  6.4","period: 2015-03-01<br />value:  6.6","period: 2015-04-01<br />value:  6.9","period: 2015-05-01<br />value:  6.5","period: 2015-06-01<br />value:  6.1","period: 2015-07-01<br />value:  5.6","period: 2015-08-01<br />value:  5.7","period: 2015-09-01<br />value:  6.2","period: 2015-10-01<br />value:  6.5","period: 2015-11-01<br />value:  6.8","period: 2015-12-01<br />value:  6.7","period: 2016-01-01<br />value:  6.5","period: 2016-02-01<br />value:  6.3","period: 2016-03-01<br />value:  6.7","period: 2016-04-01<br />value:  6.5","period: 2016-05-01<br />value:  6.3","period: 2016-06-01<br />value:  6.8","period: 2016-07-01<br />value:  7.1","period: 2016-08-01<br />value:  7.8","period: 2016-09-01<br />value:  7.4","period: 2016-10-01<br />value:  7.4","period: 2016-11-01<br />value:  6.8","period: 2016-12-01<br />value:  6.4","period: 2017-01-01<br />value:  6.0","period: 2017-02-01<br />value:  5.5","period: 2017-03-01<br />value:  5.6","period: 2017-04-01<br />value:  6.0","period: 2017-05-01<br />value:  6.5","period: 2017-06-01<br />value:  6.1","period: 2017-07-01<br />value:  5.8","period: 2017-08-01<br />value:  5.4","period: 2017-09-01<br />value:  5.7","period: 2017-10-01<br />value:  5.6","period: 2017-11-01<br />value:  5.8","period: 2017-12-01<br />value:  6.2","period: 2018-01-01<br />value:  6.6","period: 2018-02-01<br />value:  6.4","period: 2018-03-01<br />value:  5.8","period: 2018-04-01<br />value:  5.1","period: 2018-05-01<br />value:  5.0","period: 2018-06-01<br />value:  4.9","period: 2018-07-01<br />value:  5.3","period: 2018-08-01<br />value:  5.4","period: 2018-09-01<br />value:  5.7","period: 2018-10-01<br />value:  5.3","period: 2018-11-01<br />value:  4.6","period: 2018-12-01<br />value:  4.3","period: 2019-01-01<br />value:  4.3","period: 2019-02-01<br />value:  4.5","period: 2019-03-01<br />value:  4.6","period: 2019-04-01<br />value:  4.9","period: 2019-05-01<br />value:  5.0","period: 2019-06-01<br />value:  4.5","period: 2019-07-01<br />value:  4.1","period: 2019-08-01<br />value:  4.1","period: 2019-09-01<br />value:  4.5","period: 2019-10-01<br />value:  4.3","period: 2019-11-01<br />value:  4.3","period: 2019-12-01<br />value:  4.6","period: 2020-01-01<br />value:  4.9","period: 2020-02-01<br />value:  4.9","period: 2020-03-01<br />value:  5.3","period: 2020-04-01<br />value:  6.1","period: 2020-05-01<br />value:  7.0","period: 2020-06-01<br />value:  7.8","period: 2020-07-01<br />value:  7.6","period: 2020-08-01<br />value:  7.9","period: 2020-09-01<br />value:  8.1","period: 2020-10-01<br />value:  8.2","period: 2020-11-01<br />value:  7.9","period: 2020-12-01<br />value:  7.2","period: 2021-01-01<br />value:  7.2","period: 2021-02-01<br />value:  6.8","period: 2021-03-01<br />value:  6.5","period: 2021-04-01<br />value:  6.4","period: 2021-05-01<br />value:  6.6","period: 2021-06-01<br />value:  6.5","period: 2021-07-01<br />value:  6.3","period: 2021-08-01<br />value:  6.0","period: 2021-09-01<br />value:  5.8","period: 2021-10-01<br />value:  5.3","period: 2021-11-01<br />value:  5.4","period: 2021-12-01<br />value:  5.5","period: 2022-01-01<br />value:  5.8","period: 2022-02-01<br />value:  5.4","period: 2022-03-01<br />value:  5.4","period: 2022-04-01<br />value:  5.4","period: 2022-05-01<br />value:  5.7","period: 2022-06-01<br />value:  5.8","period: 2022-07-01<br />value:  5.8","period: 2022-08-01<br />value:  5.8","period: 2022-09-01<br />value:  5.5","period: 2022-10-01<br />value:  5.5","period: 2022-11-01<br />value:  5.5","period: 2022-12-01<br />value:  5.3","period: 2023-01-01<br />value:  5.1","period: 2023-02-01<br />value:  5.2","period: 2023-03-01<br />value:  5.8","period: 2023-04-01<br />value:  6.1","period: 2023-05-01<br />value:  6.6","period: 2023-06-01<br />value:  7.1","period: 2023-07-01<br />value:  7.5","period: 2023-08-01<br />value:  7.5","period: 2023-09-01<br />value:  6.7","period: 2023-10-01<br />value:  6.3","period: 2023-11-01<br />value:  6.4","period: 2023-12-01<br />value:  6.9","period: 2024-01-01<br />value:  7.5","period: 2024-02-01<br />value:  7.5","period: 2024-03-01<br />value:  7.6","period: 2024-04-01<br />value:  7.6","period: 2024-05-01<br />value:  7.4","period: 2024-06-01<br />value:  7.4","period: 2024-07-01<br />value:  7.8","period: 2024-08-01<br />value:  7.6","period: 2024-09-01<br />value:  7.6"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(70,130,180,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":48.146118721461193,"r":7.3059360730593621,"b":44.56621004566211,"l":37.260273972602747},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Unemployment Rate in  Estonia","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10539.049999999999,20415.950000000001],"tickmode":"array","ticktext":["2000","2010","2020"],"tickvals":[10957,14610,18262],"categoryorder":"array","categoryarray":["2000","2010","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Date","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[3.1600000000000001,19.439999999999998],"tickmode":"array","ticktext":["5","10","15"],"tickvals":[5,10,15],"categoryorder":"array","categoryarray":["5","10","15"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Percent","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"69002f3d314":{"x":{},"y":{},"type":"scatter"}},"cur_data":"69002f3d314","visdat":{"69002f3d314":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="how-do-we-find-the-series-idmaskdimensions">How do we find the series ID/mask/dimensions?</h3>
<ul>
<li class="fragment">Go to the <a href="https://db.nomics.world/">DBnomics website</a>
<ul>
<li class="fragment">Search directly for a series or pick a provider</li>
<li class="fragment">Search for the <a href="https://db.nomics.world/Eurostat/ei_lmhr_m?tab=list">data</a> you want (dataset_code)</li>
<li class="fragment">Click on the <a href="https://db.nomics.world/Eurostat/ei_lmhr_m/M.PC_ACT.SA.LM-UN-T-TOT.EE">series</a> (series_code)</li>
<li class="fragment">Copy the series ID from the URL</li>
</ul></li>
</ul>
</section>
<section class="slide level2">

<ul>
<li class="fragment">Show the available datasets of a provider:</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a><span class="fu">head</span>(<span class="fu">rdb_datasets</span>(<span class="at">provider_code =</span> <span class="st">"Eurostat"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Eurostat
              code
            &lt;char&gt;
   1:   aact_ali01
   2:   aact_ali02
   3:   aact_eaa01
   4:   aact_eaa02
   5:   aact_eaa03
  ---             
8289: yth_empl_120
8290: yth_empl_130
8291: yth_empl_130
8292: yth_empl_140
8293: yth_empl_140
                                                                                        name
                                                                                      &lt;char&gt;
   1:       Agricultural labour input statistics: absolute figures (1 000 annual work units)
   2:                                          Agricultural labour input statistics: indices
   3:                           Economic accounts for agriculture - values at current prices
   4:                               Economic accounts for agriculture - values at n-1 prices
   5:             Economic accounts for agriculture - values at constant prices (2015 = 100)
  ---                                                                                       
8289:                 Youth long-term unemployment rate (12 months or longer) by sex and age
8290: Youth long-term unemployment rate (12 months or longer) by sex, age and NUTS 2 regions
8291:  Youth long-term unemployment rate (12 months or longer) by sex, age and NUTS 2 region
8292:                                Youth unemployment ratio by sex, age and NUTS 2 regions
8293:                                 Youth unemployment ratio by sex, age and NUTS 2 region</code></pre>
</div>
</div>
</div>
</section>
<section class="slide level2">

<ul>
<li class="fragment">Show the dimensions of a dataset:</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a><span class="fu">head</span>(<span class="fu">rdb_dimensions</span>(<span class="at">provider_code =</span> <span class="st">"Eurostat"</span>, <span class="at">dataset_code =</span> <span class="st">"ei_lmhr_m"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Eurostat
$Eurostat$ei_lmhr_m
$Eurostat$ei_lmhr_m$freq
     freq Time frequency
   &lt;char&gt;         &lt;char&gt;
1:      M        Monthly

$Eurostat$ei_lmhr_m$geo
          geo           Geopolitical entity (reporting)
       &lt;char&gt;                                    &lt;char&gt;
 1:        AT                                   Austria
 2:        BA                    Bosnia and Herzegovina
 3:        BE                                   Belgium
 4:        BG                                  Bulgaria
 5:        CH                               Switzerland
 6:        CY                                    Cyprus
 7:        CZ                                   Czechia
 8:        DE                                   Germany
 9:        DK                                   Denmark
10:      EA20      Euro area – 20 countries (from 2023)
11:        EE                                   Estonia
12:        EL                                    Greece
13:        ES                                     Spain
14: EU27_2020 European Union - 27 countries (from 2020)
15:        FI                                   Finland
16:        FR                                    France
17:        HR                                   Croatia
18:        HU                                   Hungary
19:        IE                                   Ireland
20:        IS                                   Iceland
21:        IT                                     Italy
22:        JP                                     Japan
23:        LT                                 Lithuania
24:        LU                                Luxembourg
25:        LV                                    Latvia
26:        MT                                     Malta
27:        NL                               Netherlands
28:        NO                                    Norway
29:        PL                                    Poland
30:        PT                                  Portugal
31:        RO                                   Romania
32:        SE                                    Sweden
33:        SI                                  Slovenia
34:        SK                                  Slovakia
35:        TR                                   Türkiye
36:        UK                            United Kingdom
37:        US                             United States
          geo           Geopolitical entity (reporting)

$Eurostat$ei_lmhr_m$indic
          indic
         &lt;char&gt;
1: LM-UN-F-GT25
2: LM-UN-F-LE25
3:  LM-UN-F-TOT
4: LM-UN-M-GT25
5: LM-UN-M-LE25
6:  LM-UN-M-TOT
7: LM-UN-T-GT25
8: LM-UN-T-LE25
9:  LM-UN-T-TOT
                                                             Indicator
                                                                &lt;char&gt;
1:  Unemployment according to ILO definition - over 25 years - females
2: Unemployment according to ILO definition - under 25 years - females
3:                  Unemployment according to ILO definition - females
4:    Unemployment according to ILO definition - over 25 years - males
5:   Unemployment according to ILO definition - under 25 years - males
6:                    Unemployment according to ILO definition - males
7:    Unemployment according to ILO definition - over 25 years - total
8:   Unemployment according to ILO definition - under 25 years - total
9:                    Unemployment according to ILO definition - total

$Eurostat$ei_lmhr_m$s_adj
    s_adj
   &lt;char&gt;
1:    NSA
2:     SA
                                                             Seasonal adjustment
                                                                          &lt;char&gt;
1: Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)
2:                          Seasonally adjusted data, not calendar adjusted data

$Eurostat$ei_lmhr_m$unit
     unit                              Unit of measure
   &lt;char&gt;                                       &lt;char&gt;
1: PC_ACT Percentage of population in the labour force</code></pre>
</div>
</div>
</div>
</section>
<section class="slide level2">

<ul>
<li class="fragment">Query to filter/select series from a provider’s dataset</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a><span class="fu">head</span>(<span class="fu">rdb_series</span>(</span>
<span id="cb22-2"><a></a>  <span class="at">provider =</span> <span class="st">"Eurostat"</span>,</span>
<span id="cb22-3"><a></a>  <span class="at">dataset_code =</span> <span class="st">"ei_lmhr_m"</span>,</span>
<span id="cb22-4"><a></a>  <span class="at">query =</span> <span class="st">"United Kingdom"</span></span>
<span id="cb22-5"><a></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Eurostat
$Eurostat$ei_lmhr_m
                     series_code
                          &lt;char&gt;
 1: M.PC_ACT.NSA.LM-UN-F-GT25.UK
 2: M.PC_ACT.NSA.LM-UN-F-LE25.UK
 3:  M.PC_ACT.NSA.LM-UN-F-TOT.UK
 4: M.PC_ACT.NSA.LM-UN-M-GT25.UK
 5: M.PC_ACT.NSA.LM-UN-M-LE25.UK
 6:  M.PC_ACT.NSA.LM-UN-M-TOT.UK
 7: M.PC_ACT.NSA.LM-UN-T-GT25.UK
 8: M.PC_ACT.NSA.LM-UN-T-LE25.UK
 9:  M.PC_ACT.NSA.LM-UN-T-TOT.UK
10:  M.PC_ACT.SA.LM-UN-F-GT25.UK
11:  M.PC_ACT.SA.LM-UN-F-LE25.UK
12:   M.PC_ACT.SA.LM-UN-F-TOT.UK
13:  M.PC_ACT.SA.LM-UN-M-GT25.UK
14:  M.PC_ACT.SA.LM-UN-M-LE25.UK
15:   M.PC_ACT.SA.LM-UN-M-TOT.UK
16:  M.PC_ACT.SA.LM-UN-T-GT25.UK
17:  M.PC_ACT.SA.LM-UN-T-LE25.UK
18:   M.PC_ACT.SA.LM-UN-T-TOT.UK
                                                                                                                                                                                                                      series_name
                                                                                                                                                                                                                           &lt;char&gt;
 1:  Monthly – Percentage of population in the labour force – Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) – Unemployment according to ILO definition - over 25 years - females – United Kingdom
 2: Monthly – Percentage of population in the labour force – Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) – Unemployment according to ILO definition - under 25 years - females – United Kingdom
 3:                  Monthly – Percentage of population in the labour force – Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) – Unemployment according to ILO definition - females – United Kingdom
 4:    Monthly – Percentage of population in the labour force – Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) – Unemployment according to ILO definition - over 25 years - males – United Kingdom
 5:   Monthly – Percentage of population in the labour force – Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) – Unemployment according to ILO definition - under 25 years - males – United Kingdom
 6:                    Monthly – Percentage of population in the labour force – Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) – Unemployment according to ILO definition - males – United Kingdom
 7:    Monthly – Percentage of population in the labour force – Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) – Unemployment according to ILO definition - over 25 years - total – United Kingdom
 8:   Monthly – Percentage of population in the labour force – Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) – Unemployment according to ILO definition - under 25 years - total – United Kingdom
 9:                    Monthly – Percentage of population in the labour force – Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) – Unemployment according to ILO definition - total – United Kingdom
10:                           Monthly – Percentage of population in the labour force – Seasonally adjusted data, not calendar adjusted data – Unemployment according to ILO definition - over 25 years - females – United Kingdom
11:                          Monthly – Percentage of population in the labour force – Seasonally adjusted data, not calendar adjusted data – Unemployment according to ILO definition - under 25 years - females – United Kingdom
12:                                           Monthly – Percentage of population in the labour force – Seasonally adjusted data, not calendar adjusted data – Unemployment according to ILO definition - females – United Kingdom
13:                             Monthly – Percentage of population in the labour force – Seasonally adjusted data, not calendar adjusted data – Unemployment according to ILO definition - over 25 years - males – United Kingdom
14:                            Monthly – Percentage of population in the labour force – Seasonally adjusted data, not calendar adjusted data – Unemployment according to ILO definition - under 25 years - males – United Kingdom
15:                                             Monthly – Percentage of population in the labour force – Seasonally adjusted data, not calendar adjusted data – Unemployment according to ILO definition - males – United Kingdom
16:                             Monthly – Percentage of population in the labour force – Seasonally adjusted data, not calendar adjusted data – Unemployment according to ILO definition - over 25 years - total – United Kingdom
17:                            Monthly – Percentage of population in the labour force – Seasonally adjusted data, not calendar adjusted data – Unemployment according to ILO definition - under 25 years - total – United Kingdom
18:                                             Monthly – Percentage of population in the labour force – Seasonally adjusted data, not calendar adjusted data – Unemployment according to ILO definition - total – United Kingdom</code></pre>
</div>
</div>
</div>
</section>
<section id="fetch-two-or-more-series-at-once" class="slide level2">
<h2>Fetch two (or more) series at once</h2>
<ul>
<li class="fragment">Example: Balance of Payments (BOP) for France and Germany from the <a href="https://db.nomics.world/IMF/BOP?tab=list">IMF</a> for Current Account, Total, Net, Euros, Millions, Annual</li>
</ul>
<div class="fragment">
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Option A</a></li><li><a href="#tabset-1-2">Option B:</a></li><li><a href="#tabset-1-3">Option C:</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a><span class="co"># by ID</span></span>
<span id="cb24-2"><a></a>bop <span class="ot">&lt;-</span> <span class="fu">rdb</span>(<span class="at">ids =</span> <span class="fu">c</span>(<span class="st">"IMF/BOP/A.FR.BCA_BP6_EUR"</span>, <span class="st">"IMF/BOP/A.DE.BCA_BP6_EUR"</span>))</span>
<span id="cb24-3"><a></a>bop <span class="sc">%&gt;%</span> <span class="fu">count</span>(<span class="st">`</span><span class="at">Reference Area</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Reference Area     n
           &lt;char&gt; &lt;int&gt;
1:         France    15
2:        Germany    26</code></pre>
</div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a><span class="co"># by Mask</span></span>
<span id="cb26-2"><a></a>bop <span class="ot">&lt;-</span> <span class="fu">rdb</span>(<span class="at">provider =</span> <span class="st">"IMF"</span>,</span>
<span id="cb26-3"><a></a>           <span class="at">dataset_code =</span>  <span class="st">"BOP"</span>,</span>
<span id="cb26-4"><a></a>           <span class="at">mask =</span> <span class="st">"A.FR+DE.BCA_BP6_EUR"</span>)</span>
<span id="cb26-5"><a></a>bop <span class="sc">%&gt;%</span> <span class="fu">count</span>(<span class="st">`</span><span class="at">Reference Area</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Reference Area     n
           &lt;char&gt; &lt;int&gt;
1:         France    15
2:        Germany    26</code></pre>
</div>
</div>
</div>
<div id="tabset-1-3">
<p><span style="color:red; font-weight:bold;">⚠️You must specify all dimensions!</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a><span class="co"># by Dimension</span></span>
<span id="cb28-2"><a></a>dim <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb28-3"><a></a>  <span class="at">REF_AREA =</span> <span class="fu">c</span>(<span class="st">"DE"</span>, <span class="st">"FR"</span>),</span>
<span id="cb28-4"><a></a>  <span class="at">INDICATOR =</span> <span class="fu">c</span>(<span class="st">"BCA_BP6_EUR"</span>),</span>
<span id="cb28-5"><a></a>  <span class="at">FREQ =</span> <span class="st">"A"</span></span>
<span id="cb28-6"><a></a>)</span>
<span id="cb28-7"><a></a>bop <span class="ot">&lt;-</span> <span class="fu">rdb</span>(<span class="at">provider =</span> <span class="st">"IMF"</span>, <span class="at">dataset_code =</span> <span class="st">"BOP"</span>, <span class="at">dimensions =</span> dim)</span>
<span id="cb28-8"><a></a>bop <span class="sc">%&gt;%</span> <span class="fu">count</span>(<span class="st">`</span><span class="at">Reference Area</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Reference Area     n
           &lt;char&gt; &lt;int&gt;
1:         France    15
2:        Germany    26</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a></a><span class="co"># Line plot with color by country</span></span>
<span id="cb30-2"><a></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(bop, <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> value, <span class="at">color =</span> <span class="st">`</span><span class="at">Reference Area</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb30-3"><a></a>  <span class="fu">geom_step</span>(<span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb30-4"><a></a>  <span class="fu">labs</span>(</span>
<span id="cb30-5"><a></a>    <span class="at">title =</span> <span class="st">"Balance of Payments (BCA, EUR)"</span>,</span>
<span id="cb30-6"><a></a>    <span class="at">subtitle =</span> <span class="st">"France vs Germany — Annual"</span>,</span>
<span id="cb30-7"><a></a>    <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb30-8"><a></a>    <span class="at">y =</span> <span class="st">"EUR (Millions)"</span>,</span>
<span id="cb30-9"><a></a>    <span class="at">caption =</span> <span class="st">"Source: IMF / DBnomics"</span></span>
<span id="cb30-10"><a></a>  ) <span class="sc">+</span></span>
<span id="cb30-11"><a></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb30-12"><a></a>p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="" class="slide level2 output-location-slide"><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="fetching_files/figure-revealjs/unnamed-chunk-14-1.png" width="960"></p>
</figure>
</div>
</div>
</div></section><section id="fetch-two-series-from-different-datasets-of-different-providers" class="slide level2">
<h2>Fetch two series from different datasets of different providers</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a></a>unemp2 <span class="ot">&lt;-</span> <span class="fu">rdb</span>(<span class="at">ids =</span> <span class="fu">c</span>(<span class="st">"AMECO/ZUTN/EA19.1.0.0.0.ZUTN"</span>, <span class="st">"Eurostat/une_rt_q/Q.SA.Y15-24.PC_ACT.T.EA19"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a></a><span class="co"># See which providers and datasets are included</span></span>
<span id="cb32-2"><a></a><span class="fu">dim</span>(unemp2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 122  27</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a></a><span class="fu">unique</span>(unemp2<span class="sc">$</span>provider_code)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "AMECO"    "Eurostat"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a></a><span class="fu">unique</span>(unemp2<span class="sc">$</span>dataset_code)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ZUTN"     "une_rt_q"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a></a><span class="fu">unique</span>(unemp2<span class="sc">$</span>series_code)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "EA19.1.0.0.0.ZUTN"         "Q.SA.Y15-24.PC_ACT.T.EA19"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a></a><span class="fu">unique</span>(unemp2<span class="sc">$</span><span class="st">`</span><span class="at">@frequency</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "annual"    "quarterly"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a></a><span class="fu">unique</span>(unemp2<span class="sc">$</span><span class="st">`</span><span class="at">Seasonal adjustment</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA                                                    
[2] "Seasonally adjusted data, not calendar adjusted data"</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a></a><span class="co"># Summarize coverage and data availability</span></span>
<span id="cb44-2"><a></a>unemp2_summary <span class="ot">&lt;-</span> unemp2 <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a></a>  <span class="fu">group_by</span>(series_code) <span class="sc">%&gt;%</span></span>
<span id="cb44-4"><a></a>  <span class="fu">summarize</span>(</span>
<span id="cb44-5"><a></a>    <span class="at">provider =</span> <span class="fu">first</span>(provider_code),</span>
<span id="cb44-6"><a></a>    <span class="at">dataset =</span> <span class="fu">first</span>(dataset_code),</span>
<span id="cb44-7"><a></a>    <span class="at">start_all =</span> <span class="fu">min</span>(period, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-8"><a></a>    <span class="at">end_all =</span> <span class="fu">max</span>(period, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb44-9"><a></a>    <span class="at">start_data =</span> <span class="fu">min</span>(period[<span class="sc">!</span><span class="fu">is.na</span>(value)]),</span>
<span id="cb44-10"><a></a>    <span class="at">end_data =</span> <span class="fu">max</span>(period[<span class="sc">!</span><span class="fu">is.na</span>(value)]),</span>
<span id="cb44-11"><a></a>    <span class="at">n_obs =</span> <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(value)),</span>
<span id="cb44-12"><a></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb44-13"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a></a>unemp2_summary_table <span class="ot">&lt;-</span> unemp2_summary <span class="sc">|&gt;</span> </span>
<span id="cb45-2"><a></a><span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a></a>  <span class="fu">tab_header</span>(</span>
<span id="cb45-4"><a></a>    <span class="at">title =</span> <span class="st">"Time Coverage and Non-Missing Observations"</span>,</span>
<span id="cb45-5"><a></a>    <span class="at">subtitle =</span> <span class="st">"For Each Series from AMECO and Eurostat"</span></span>
<span id="cb45-6"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb45-7"><a></a>  <span class="fu">cols_label</span>(</span>
<span id="cb45-8"><a></a>    <span class="at">series_code =</span> <span class="st">"Series ID"</span>,</span>
<span id="cb45-9"><a></a>    <span class="at">provider =</span> <span class="st">"Provider"</span>,</span>
<span id="cb45-10"><a></a>    <span class="at">dataset =</span> <span class="st">"Dataset"</span>,</span>
<span id="cb45-11"><a></a>    <span class="at">start_all =</span> <span class="st">"Start (all)"</span>,</span>
<span id="cb45-12"><a></a>    <span class="at">end_all =</span> <span class="st">"End (all)"</span>,</span>
<span id="cb45-13"><a></a>    <span class="at">start_data =</span> <span class="st">"Start (non-NA)"</span>,</span>
<span id="cb45-14"><a></a>    <span class="at">end_data =</span> <span class="st">"End (non-NA)"</span>,</span>
<span id="cb45-15"><a></a>    <span class="at">n_obs =</span> <span class="st">"# Obs"</span></span>
<span id="cb45-16"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb45-17"><a></a>  <span class="fu">fmt_date</span>(</span>
<span id="cb45-18"><a></a>    <span class="at">columns =</span> <span class="fu">c</span>(start_all, end_all, start_data, end_data),</span>
<span id="cb45-19"><a></a>    <span class="at">date_style =</span> <span class="st">"iso"</span></span>
<span id="cb45-20"><a></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb45-21"><a></a>  <span class="fu">tab_options</span>(</span>
<span id="cb45-22"><a></a>    <span class="at">table.width =</span> <span class="fu">pct</span>(<span class="dv">100</span>),</span>
<span id="cb45-23"><a></a>    <span class="at">column_labels.font.weight =</span> <span class="st">"bold"</span></span>
<span id="cb45-24"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a></a>unemp2_summary_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="sgnvnlgnhe" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#sgnvnlgnhe table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#sgnvnlgnhe thead, #sgnvnlgnhe tbody, #sgnvnlgnhe tfoot, #sgnvnlgnhe tr, #sgnvnlgnhe td, #sgnvnlgnhe th {
  border-style: none;
}

#sgnvnlgnhe p {
  margin: 0;
  padding: 0;
}

#sgnvnlgnhe .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#sgnvnlgnhe .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#sgnvnlgnhe .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#sgnvnlgnhe .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#sgnvnlgnhe .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sgnvnlgnhe .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sgnvnlgnhe .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sgnvnlgnhe .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#sgnvnlgnhe .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#sgnvnlgnhe .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#sgnvnlgnhe .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#sgnvnlgnhe .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#sgnvnlgnhe .gt_spanner_row {
  border-bottom-style: hidden;
}

#sgnvnlgnhe .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#sgnvnlgnhe .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#sgnvnlgnhe .gt_from_md > :first-child {
  margin-top: 0;
}

#sgnvnlgnhe .gt_from_md > :last-child {
  margin-bottom: 0;
}

#sgnvnlgnhe .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#sgnvnlgnhe .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#sgnvnlgnhe .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#sgnvnlgnhe .gt_row_group_first td {
  border-top-width: 2px;
}

#sgnvnlgnhe .gt_row_group_first th {
  border-top-width: 2px;
}

#sgnvnlgnhe .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sgnvnlgnhe .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#sgnvnlgnhe .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#sgnvnlgnhe .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sgnvnlgnhe .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sgnvnlgnhe .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#sgnvnlgnhe .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#sgnvnlgnhe .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#sgnvnlgnhe .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sgnvnlgnhe .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sgnvnlgnhe .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#sgnvnlgnhe .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sgnvnlgnhe .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#sgnvnlgnhe .gt_left {
  text-align: left;
}

#sgnvnlgnhe .gt_center {
  text-align: center;
}

#sgnvnlgnhe .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#sgnvnlgnhe .gt_font_normal {
  font-weight: normal;
}

#sgnvnlgnhe .gt_font_bold {
  font-weight: bold;
}

#sgnvnlgnhe .gt_font_italic {
  font-style: italic;
}

#sgnvnlgnhe .gt_super {
  font-size: 65%;
}

#sgnvnlgnhe .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#sgnvnlgnhe .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#sgnvnlgnhe .gt_indent_1 {
  text-indent: 5px;
}

#sgnvnlgnhe .gt_indent_2 {
  text-indent: 10px;
}

#sgnvnlgnhe .gt_indent_3 {
  text-indent: 15px;
}

#sgnvnlgnhe .gt_indent_4 {
  text-indent: 20px;
}

#sgnvnlgnhe .gt_indent_5 {
  text-indent: 25px;
}

#sgnvnlgnhe .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#sgnvnlgnhe div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_heading header">
<th colspan="8" class="gt_heading gt_title gt_font_normal">Time Coverage and Non-Missing Observations</th>
</tr>
<tr class="gt_heading even">
<th colspan="8" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border">For Each Series from AMECO and Eurostat</th>
</tr>
<tr class="gt_col_headings header">
<th id="series_code" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Series ID</th>
<th id="provider" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Provider</th>
<th id="dataset" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Dataset</th>
<th id="start_all" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Start (all)</th>
<th id="end_all" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">End (all)</th>
<th id="start_data" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Start (non-NA)</th>
<th id="end_data" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">End (non-NA)</th>
<th id="n_obs" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col"># Obs</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="series_code">EA19.1.0.0.0.ZUTN</td>
<td class="gt_row gt_left" headers="provider">AMECO</td>
<td class="gt_row gt_left" headers="dataset">ZUTN</td>
<td class="gt_row gt_right" headers="start_all">1960-01-01</td>
<td class="gt_row gt_right" headers="end_all">2026-01-01</td>
<td class="gt_row gt_right" headers="start_data">1997-01-01</td>
<td class="gt_row gt_right" headers="end_data">2026-01-01</td>
<td class="gt_row gt_right" headers="n_obs">30</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="series_code">Q.SA.Y15-24.PC_ACT.T.EA19</td>
<td class="gt_row gt_left" headers="provider">Eurostat</td>
<td class="gt_row gt_left" headers="dataset">une_rt_q</td>
<td class="gt_row gt_right" headers="start_all">2009-01-01</td>
<td class="gt_row gt_right" headers="end_all">2022-07-01</td>
<td class="gt_row gt_right" headers="start_data">2009-01-01</td>
<td class="gt_row gt_right" headers="end_data">2022-07-01</td>
<td class="gt_row gt_right" headers="n_obs">55</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a></a><span class="co"># Metadata vectors</span></span>
<span id="cb47-2"><a></a>providers <span class="ot">&lt;-</span> <span class="fu">unique</span>(unemp2<span class="sc">$</span>provider_code)</span>
<span id="cb47-3"><a></a>datasets <span class="ot">&lt;-</span> <span class="fu">unique</span>(unemp2<span class="sc">$</span>dataset_code)</span>
<span id="cb47-4"><a></a>series_ids <span class="ot">&lt;-</span> <span class="fu">unique</span>(unemp2<span class="sc">$</span>series_code)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a></a><span class="co"># Create a label that combines dataset + series ID</span></span>
<span id="cb48-2"><a></a>unemp2_clean <span class="ot">&lt;-</span> unemp2 <span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a></a>  <span class="fu">drop_na</span>(value) <span class="sc">%&gt;%</span></span>
<span id="cb48-4"><a></a>  <span class="fu">mutate</span>(<span class="at">label =</span> <span class="fu">case_when</span>(</span>
<span id="cb48-5"><a></a>    series_code <span class="sc">==</span> <span class="st">"EA19.1.0.0.0.ZUTN"</span> <span class="sc">~</span> <span class="st">"Total, AMECO"</span>,</span>
<span id="cb48-6"><a></a>    series_code <span class="sc">==</span> <span class="st">"Q.SA.Y15-24.PC_ACT.T.EA19"</span> <span class="sc">~</span> <span class="st">"Youth (15–24), Eurostat"</span>,</span>
<span id="cb48-7"><a></a>    <span class="cn">TRUE</span> <span class="sc">~</span> series_code</span>
<span id="cb48-8"><a></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(unemp2_clean, <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> value, <span class="at">color =</span> label)) <span class="sc">+</span></span>
<span id="cb49-2"><a></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb49-3"><a></a>  <span class="fu">labs</span>(</span>
<span id="cb49-4"><a></a>    <span class="at">title =</span> <span class="st">"Unemployment Rates from Multiple Sources (EA19)"</span>,</span>
<span id="cb49-5"><a></a>    <span class="at">subtitle =</span> <span class="st">"AMECO and Eurostat — Different definitions"</span>,</span>
<span id="cb49-6"><a></a>    <span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"Percent"</span>,</span>
<span id="cb49-7"><a></a>    <span class="at">caption =</span> <span class="fu">paste</span>(<span class="st">"Series IDs:"</span>, <span class="fu">paste</span>(<span class="fu">unique</span>(unemp2_clean<span class="sc">$</span>series_code), <span class="at">collapse =</span> <span class="st">" | "</span>))</span>
<span id="cb49-8"><a></a>  ) <span class="sc">+</span></span>
<span id="cb49-9"><a></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb49-10"><a></a>p3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</section>
<section id="" class="slide level2 output-location-slide"><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="fetching_files/figure-revealjs/unnamed-chunk-22-1.png" width="960"></p>
</figure>
</div>
</div>
</div></section><section id="fetch-large-amounts-of-data" class="slide level2">
<h2>Fetch large amounts of data</h2>
<ul>
<li class="fragment">Sometimes you need to fetch many if not all dimensions of the data</li>
<li class="fragment">You can wildcard dimension and post-filter</li>
<li class="fragment">Example: MFI Interest Rate Statistics from the ECB
<ul>
<li class="fragment">Start with a <a href="https://db.nomics.world/ECB/MIR/M.EE.B.A2C.A.R.A.2250.EUR.N">single series</a> (Estonia, mortgage rates)</li>
</ul></li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a></a>mir_mortgage_ee <span class="ot">&lt;-</span> <span class="fu">rdb</span>(<span class="st">"ECB"</span>, <span class="st">"MIR"</span>, <span class="st">"M.EE.B.A2C.A.R.A.2250.EUR.N"</span>)</span>
<span id="cb50-2"><a></a><span class="fu">unique</span>(mir_mortgage_ee<span class="sc">$</span>series_name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Monthly – Estonia – Deposit-taking corporations except the central bank (S.122) – Lending for house purchase excluding revolving loans and overdrafts, convenience and extended credit card debt – Total – Annualised agreed rate (AAR) / Narrowly defined effective rate (NDER) – Total – Households and non-profit institutions serving households (S.14 and S.15) – Euro – New business"</code></pre>
</div>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="wildcarding-dimensions">Wildcarding dimensions</h3>
<ul>
<li class="fragment">To fetch <strong>multiple values</strong> for a dimension (e.g.&nbsp;countries), just <strong>remove</strong> the value from that position
<ul>
<li class="fragment">Example: remove <code>"EE"</code> to fetch all countries (<code>REF_AREA</code>)</li>
</ul></li>
</ul>
<div class="fragment">
<p><span style="color:red;">⚠️ This can take a while</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a></a><span class="co"># mir_mortgage_ee &lt;- rdb("ECB", "MIR", "M.EE.B.A2C.A.R.A.2250.EUR.N")</span></span>
<span id="cb52-2"><a></a>mir <span class="ot">&lt;-</span> <span class="fu">rdb</span>(<span class="st">"ECB"</span>, <span class="st">"MIR"</span>, <span class="st">"M..B..A.R.A..EUR.N"</span>)</span>
<span id="cb52-3"><a></a><span class="fu">unique</span>(mir<span class="sc">$</span>REF_AREA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "AT" "BE" "CY" "DE" "EE" "ES" "FI" "FR" "GR" "HR" "IE" "IT" "LT" "LU" "LV"
[16] "MT" "NL" "PT" "SI" "SK" "U2"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a></a><span class="fu">unique</span>(mir<span class="sc">$</span>BS_ITEM)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "A2A"  "A2AC" "A2B"  "A2BC" "A2C"  "A2CC" "A2D"  "A2Z"  "A2Z1" "A2Z3"
[11] "L21"  "L22"  "L23"  "L24" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a></a><span class="fu">unique</span>(mir<span class="sc">$</span><span class="st">`</span><span class="at">BS counterpart sector</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Non-Financial corporations (S.11)"                                           
[2] "Households and non-profit institutions serving households (S.14 and S.15)"   
[3] "Households of which sole proprietors and unincorporated partnerships (SP/UP)"
[4] "Non-Financial corporations and Households (S.11 and S.14 and S.15)"          </code></pre>
</div>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="filter-and-plot">Filter and plot</h3>
<ul>
<li class="fragment">Filter Estonia, Latvia and Lithuania</li>
<li class="fragment">Keep only selected <strong>BS items</strong> (loan categories)</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a></a><span class="co"># Filter by BS_ITEM and countries</span></span>
<span id="cb58-2"><a></a>mir_filtered <span class="ot">&lt;-</span> mir <span class="sc">%&gt;%</span></span>
<span id="cb58-3"><a></a>  <span class="fu">filter</span>(</span>
<span id="cb58-4"><a></a>    REF_AREA <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"EE"</span>, <span class="st">"LV"</span>, <span class="st">"LT"</span>),</span>
<span id="cb58-5"><a></a>    BS_ITEM <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"A2I"</span>, <span class="st">"A2C"</span>, <span class="st">"A2B"</span>, <span class="st">"A2J"</span>, <span class="st">"A2A"</span>)</span>
<span id="cb58-6"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="plot-interest-rates-by-country-type">Plot interest rates by country &amp; type</h3>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a></a>country_list <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">sort</span>(<span class="fu">unique</span>(mir_filtered<span class="sc">$</span>REF_AREA)), <span class="at">collapse =</span> <span class="st">", "</span>)</span>
<span id="cb59-2"><a></a>item_list <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">unique</span>(mir_filtered<span class="sc">$</span>BS_ITEM), <span class="at">collapse =</span> <span class="st">", "</span>)</span>
<span id="cb59-3"><a></a></span>
<span id="cb59-4"><a></a>caption_text <span class="ot">&lt;-</span> <span class="fu">paste</span>(</span>
<span id="cb59-5"><a></a>  <span class="st">"Source: ECB / DBnomics — Dataset code: MIR"</span>,</span>
<span id="cb59-6"><a></a>  <span class="fu">paste0</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Filtered: REF_AREA in "</span>, country_list, <span class="st">"; BS_ITEM in "</span>, item_list)</span>
<span id="cb59-7"><a></a>)</span>
<span id="cb59-8"><a></a></span>
<span id="cb59-9"><a></a>mir_filtered <span class="ot">&lt;-</span> mir_filtered <span class="sc">%&gt;%</span></span>
<span id="cb59-10"><a></a>  <span class="fu">mutate</span>(<span class="at">facet_label =</span> <span class="fu">paste0</span>(<span class="st">`</span><span class="at">BS counterpart sector</span><span class="st">`</span>, <span class="st">".</span><span class="sc">\n\n</span><span class="st">"</span>, <span class="st">`</span><span class="at">Balance sheet item</span><span class="st">`</span>))</span>
<span id="cb59-11"><a></a></span>
<span id="cb59-12"><a></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mir_filtered, <span class="fu">aes</span>(<span class="at">x =</span> period, <span class="at">y =</span> value, <span class="at">color =</span> REF_AREA)) <span class="sc">+</span></span>
<span id="cb59-13"><a></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb59-14"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> facet_label, <span class="at">labeller =</span> <span class="fu">label_wrap_gen</span>(<span class="at">width =</span> <span class="dv">30</span>), <span class="at">ncol =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb59-15"><a></a>  <span class="fu">labs</span>(</span>
<span id="cb59-16"><a></a>    <span class="at">title =</span> <span class="st">"Interest Rates for Households and Firms"</span>,</span>
<span id="cb59-17"><a></a>    <span class="at">subtitle =</span> <span class="st">"Faceted by Loan Type and Borrower Sector"</span>,</span>
<span id="cb59-18"><a></a>    <span class="at">x =</span> <span class="st">"Date"</span>, <span class="at">y =</span> <span class="st">"Percent"</span>,</span>
<span id="cb59-19"><a></a>    <span class="at">caption =</span> caption_text</span>
<span id="cb59-20"><a></a>  ) <span class="sc">+</span></span>
<span id="cb59-21"><a></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb59-22"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb59-23"><a></a>p4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

</div>
</section>
<section id="" class="slide level2 output-location-slide"><div class="cell output-location-slide">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="fetching_files/figure-revealjs/unnamed-chunk-26-1.png" width="960"></p>
</figure>
</div>
</div>
</div></section><section class="slide level2">



</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>