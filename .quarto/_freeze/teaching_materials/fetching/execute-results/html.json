{
  "hash": "d0758558321638631cacbd68ded1c3db",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Fetching and Visualizing Official Statistics with R\"\nauthor: \"Nicolas\"\ndate: \"2025-04-17\"\ninstitute: \"Eesti Pank\"\nformat:\n   revealjs: #  for presentation\n    output-file: presentation_for_distribution_fetching.html\n   # html: # for website\n   #  output-file: page_for_distribution_fetching.html\n    encoding: \"UTF-8\" # Estonian speical characters\n    incremental: true\n    preview-links: true\n    scroll-view: false\n    theme: simple\n    smaller: true\n    slide-number: true\n    font-size: 0.6em\n    transition: slide\n    toc: true\n    toc-depth: 2  # or 3, 4 etc.\n    chalkboard: false # chalkboard and embed-resources can not be activted together\n    embed-resources: false\neditor_options:\n  chunk_output_type: console\n---\n\n# Interfaces to Official Statistics\n\n- Packages or set of classes and methods to read data and metadata documents through exchange frameworks\n  - Use [R](https://www.r-project.org/) (or [Python](https://www.python.org/)) packages to read data from APIs, databases, and web pages\n    - Individual packages:\n      - [eurostat](https://cran.r-project.org/package=eurostat): Access data from Eurostat\n      - [OECD](https://cran.r-project.org/package=OECD): Access data from the OECD API\n  - General-purpose packages:\n    - [rdbnomics](https://cran.r-project.org/package=rdbnomics): Unified access to many economic databases (e.g. ECB, **Eurostat**, IMF, World Bank)\n\n---\n  \n  - Interface standards:\n    - [SDMX](https://sdmx.org/?page_id=5008): Statistical Data and Metadata Exchange format\n    - [pxweb](https://cran.r-project.org/package=pxweb): Access to data sources using the PX-Web API (e.g. Statistics Sweden, Statistics Estonia)\n\n---\n\n###  DBnomics \n\n - [DBnomics](https://db.nomics.world/) is a database of databases\n    - free platform to aggregate publicly-available economic data provided by national and international statistical institutions, but also by researchers and private companies\n    - Unified interface to access data from many sources\n    - Harmonized data formats and metadata \n    - Data series are available upon release by the provider \n    - Each revision is archived to build a real-time database\n\n## How to fetch data (from DBnomics using R) \n\n- DBnomics R client\n \n::: {.fragment}\n \n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"rdbnomics\")\nlibrary(rdbnomics)\n```\n:::\n\n:::\n\n---\n\n### Packages used in this tutorial\n\n\n  - üì¶ Fetching data (`rdbnomics`)\n  - üßπ Data wrangling and transformation (`tidyverse`)\n  - üìä Visualization (`ggplot2`, `plotly`)\n  - üìã Tabular summaries (`gt`)\n  - üßæ Building this presentation (`quarto`)\n\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(quarto)     # for compiling Quarto presentations\nlibrary(rdbnomics)  # for accessing economic data via DBnomics\nlibrary(tidyverse)  # dplyr, ggplot2, readr, etc.\nlibrary(plotly)     # interactive visualizations\nlibrary(gt)         # pretty tables\n```\n:::\n\n:::\n\n---\n\n### Example: Fetch Unemployment Data \n\n   - Assume we know exactly the series ID we want to fetch\n     - Unemployment rate, ILO definition, total, Estonia, from Eurostat\n\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nunemp <- rdb(ids = \"Eurostat/ei_lmhr_m/M.PC_ACT.SA.LM-UN-T-TOT.EE\") # fetch data\n```\n:::\n\n:::\n\n--- \n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(unemp)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 296\nColumns: 22\n$ `@frequency`                      <chr> \"monthly\", \"monthly\", \"monthly\", \"mo‚Ä¶\n$ dataset_code                      <chr> \"ei_lmhr_m\", \"ei_lmhr_m\", \"ei_lmhr_m‚Ä¶\n$ dataset_name                      <chr> \"Unemployment rate (%) - monthly dat‚Ä¶\n$ freq                              <chr> \"M\", \"M\", \"M\", \"M\", \"M\", \"M\", \"M\", \"‚Ä¶\n$ geo                               <chr> \"EE\", \"EE\", \"EE\", \"EE\", \"EE\", \"EE\", ‚Ä¶\n$ `Geopolitical entity (reporting)` <chr> \"Estonia\", \"Estonia\", \"Estonia\", \"Es‚Ä¶\n$ indexed_at                        <dttm> 2024-10-31 15:26:51, 2024-10-31 15:‚Ä¶\n$ indic                             <chr> \"LM-UN-T-TOT\", \"LM-UN-T-TOT\", \"LM-UN‚Ä¶\n$ Indicator                         <chr> \"Unemployment according to ILO defin‚Ä¶\n$ observations_attributes           <chr> \"OBS_FLAG,\", \"OBS_FLAG,\", \"OBS_FLAG,‚Ä¶\n$ original_period                   <chr> \"2000-02\", \"2000-03\", \"2000-04\", \"20‚Ä¶\n$ original_value                    <chr> \"14.9\", \"14.2\", \"14.5\", \"13.9\", \"14\"‚Ä¶\n$ period                            <date> 2000-02-01, 2000-03-01, 2000-04-01,‚Ä¶\n$ provider_code                     <chr> \"Eurostat\", \"Eurostat\", \"Eurostat\", ‚Ä¶\n$ s_adj                             <chr> \"SA\", \"SA\", \"SA\", \"SA\", \"SA\", \"SA\", ‚Ä¶\n$ `Seasonal adjustment`             <chr> \"Seasonally adjusted data, not calen‚Ä¶\n$ series_code                       <chr> \"M.PC_ACT.SA.LM-UN-T-TOT.EE\", \"M.PC_‚Ä¶\n$ series_name                       <chr> \"Monthly ‚Äì Percentage of population ‚Ä¶\n$ `Time frequency`                  <chr> \"Monthly\", \"Monthly\", \"Monthly\", \"Mo‚Ä¶\n$ unit                              <chr> \"PC_ACT\", \"PC_ACT\", \"PC_ACT\", \"PC_AC‚Ä¶\n$ `Unit of measure`                 <chr> \"Percentage of population in the lab‚Ä¶\n$ value                             <dbl> 14.9, 14.2, 14.5, 13.9, 14.0, 13.9, ‚Ä¶\n```\n\n\n:::\n\n```{.r .cell-code}\ncolnames(unemp)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"@frequency\"                      \"dataset_code\"                   \n [3] \"dataset_name\"                    \"freq\"                           \n [5] \"geo\"                             \"Geopolitical entity (reporting)\"\n [7] \"indexed_at\"                      \"indic\"                          \n [9] \"Indicator\"                       \"observations_attributes\"        \n[11] \"original_period\"                 \"original_value\"                 \n[13] \"period\"                          \"provider_code\"                  \n[15] \"s_adj\"                           \"Seasonal adjustment\"            \n[17] \"series_code\"                     \"series_name\"                    \n[19] \"Time frequency\"                  \"unit\"                           \n[21] \"Unit of measure\"                 \"value\"                          \n```\n\n\n:::\n:::\n\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n# Extract source and series ID from the metadata\n(source_name <- unique(unemp$dataset_code))  \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"ei_lmhr_m\"\n```\n\n\n:::\n\n```{.r .cell-code}\n(provider_code <- unique(unemp$provider_code))  \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Eurostat\"\n```\n\n\n:::\n\n```{.r .cell-code}\n(country_name <- unique(unemp$`Geopolitical entity (reporting)`)  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Estonia\"\n```\n\n\n:::\n\n```{.r .cell-code}\n(series_id <- unique(unemp$series_code))  \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"M.PC_ACT.SA.LM-UN-T-TOT.EE\"\n```\n\n\n:::\n:::\n\n--- \n\n::: {.cell output-location='slide'}\n\n```{.r .cell-code}\n# Plot the data\np1 <- ggplot(unemp, aes(x = period, y = value)) +\n  geom_line(color = \"steelblue\", linewidth = 1) +\n  labs(\n    title = paste(\"Unemployment Rate in \", country_name),\n    subtitle = paste(\"Monthly, seasonally adjusted ‚Äî\", provider_code),\n    x = \"Date\", y = \"Percent\",\n    caption = paste(\"Source:\", provider_code, \"| Dataset:\", source_name, \"| ID:\", series_id)\n  ) +\n  theme_minimal()\np1\n```\n\n::: {.cell-output-display}\n![](fetching_files/figure-revealjs/unnamed-chunk-6-1.png){width=960}\n:::\n:::\n\n---\n\n### Interactive plot\n\n::: {.cell}\n\n```{.r .cell-code}\nggplotly(p1)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-5e57ffc7e299b4026bef\" style=\"width:960px;height:480px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-5e57ffc7e299b4026bef\">{\"x\":{\"data\":[{\"x\":[10988,11017,11048,11078,11109,11139,11170,11201,11231,11262,11292,11323,11354,11382,11413,11443,11474,11504,11535,11566,11596,11627,11657,11688,11719,11747,11778,11808,11839,11869,11900,11931,11961,11992,12022,12053,12084,12112,12143,12173,12204,12234,12265,12296,12326,12357,12387,12418,12449,12478,12509,12539,12570,12600,12631,12662,12692,12723,12753,12784,12815,12843,12874,12904,12935,12965,12996,13027,13057,13088,13118,13149,13180,13208,13239,13269,13300,13330,13361,13392,13422,13453,13483,13514,13545,13573,13604,13634,13665,13695,13726,13757,13787,13818,13848,13879,13910,13939,13970,14000,14031,14061,14092,14123,14153,14184,14214,14245,14276,14304,14335,14365,14396,14426,14457,14488,14518,14549,14579,14610,14641,14669,14700,14730,14761,14791,14822,14853,14883,14914,14944,14975,15006,15034,15065,15095,15126,15156,15187,15218,15248,15279,15309,15340,15371,15400,15431,15461,15492,15522,15553,15584,15614,15645,15675,15706,15737,15765,15796,15826,15857,15887,15918,15949,15979,16010,16040,16071,16102,16130,16161,16191,16222,16252,16283,16314,16344,16375,16405,16436,16467,16495,16526,16556,16587,16617,16648,16679,16709,16740,16770,16801,16832,16861,16892,16922,16953,16983,17014,17045,17075,17106,17136,17167,17198,17226,17257,17287,17318,17348,17379,17410,17440,17471,17501,17532,17563,17591,17622,17652,17683,17713,17744,17775,17805,17836,17866,17897,17928,17956,17987,18017,18048,18078,18109,18140,18170,18201,18231,18262,18293,18322,18353,18383,18414,18444,18475,18506,18536,18567,18597,18628,18659,18687,18718,18748,18779,18809,18840,18871,18901,18932,18962,18993,19024,19052,19083,19113,19144,19174,19205,19236,19266,19297,19327,19358,19389,19417,19448,19478,19509,19539,19570,19601,19631,19662,19692,19723,19754,19783,19814,19844,19875,19905,19936,19967],\"y\":[14.9,14.199999999999999,14.5,13.9,14,13.9,14.300000000000001,14.199999999999999,14.1,14.4,14.300000000000001,14.4,13.9,14,14.199999999999999,13.6,12.9,13.1,12.6,12.699999999999999,11.6,11.9,11.5,11.6,11.6,11.199999999999999,10.699999999999999,10.5,11.199999999999999,11.4,11.199999999999999,11.300000000000001,11.800000000000001,11.5,11.9,11.4,11.199999999999999,11.1,10.800000000000001,11.1,11,10.5,10.1,9.0999999999999996,9.3000000000000007,9.4000000000000004,10.4,10.6,10,9.6999999999999993,9.5999999999999996,9.9000000000000004,9.6999999999999993,10,10.4,10.199999999999999,10.300000000000001,9.5,9.5,9.1999999999999993,9.3000000000000007,8.5999999999999996,8.3000000000000007,8,7.9000000000000004,7.7000000000000002,7.5999999999999996,7.7999999999999998,7.5999999999999996,7.2000000000000002,6.7999999999999998,6.5999999999999996,6.2000000000000002,6.2999999999999998,6,6.4000000000000004,6.2000000000000002,6,5.7999999999999998,5.5999999999999996,5.7999999999999998,5.4000000000000004,5.0999999999999996,5,4.9000000000000004,5.0999999999999996,4.9000000000000004,4.9000000000000004,4.7000000000000002,4.2000000000000002,4.0999999999999996,4,4,4,4.0999999999999996,4.2999999999999998,4.4000000000000004,4.2999999999999998,4.5,3.8999999999999999,4.2000000000000002,5.2000000000000002,6.2999999999999998,6.7999999999999998,6.9000000000000004,7.5999999999999996,9.3000000000000007,10.1,10.6,11.6,12.300000000000001,12.800000000000001,13,14.300000000000001,15,14.800000000000001,15.5,15.9,17,17.800000000000001,18.5,18.699999999999999,18.5,17.800000000000001,16.899999999999999,15.9,15.9,15.5,14.800000000000001,13.800000000000001,14.199999999999999,14.300000000000001,13.5,13.4,12.800000000000001,12.699999999999999,12.6,11.800000000000001,11.199999999999999,11.300000000000001,11.800000000000001,11.6,10.9,10.800000000000001,10.699999999999999,10.699999999999999,9.8000000000000007,9.8000000000000007,9.8000000000000007,9.9000000000000004,9.9000000000000004,9.1999999999999993,9.1999999999999993,9.3000000000000007,9.5999999999999996,9.6999999999999993,9.3000000000000007,8.8000000000000007,7.9000000000000004,7.7999999999999998,7.7000000000000002,7.7000000000000002,8.1999999999999993,8.5,8.9000000000000004,8.9000000000000004,8.5999999999999996,8.5999999999999996,8,7.7000000000000002,7.4000000000000004,6.7999999999999998,6.7999999999999998,7.2000000000000002,7.7999999999999998,7.5999999999999996,6.9000000000000004,6.5,6.5,6.5999999999999996,6.4000000000000004,6.5999999999999996,6.9000000000000004,6.5,6.0999999999999996,5.5999999999999996,5.7000000000000002,6.2000000000000002,6.5,6.7999999999999998,6.7000000000000002,6.5,6.2999999999999998,6.7000000000000002,6.5,6.2999999999999998,6.7999999999999998,7.0999999999999996,7.7999999999999998,7.4000000000000004,7.4000000000000004,6.7999999999999998,6.4000000000000004,6,5.5,5.5999999999999996,6,6.5,6.0999999999999996,5.7999999999999998,5.4000000000000004,5.7000000000000002,5.5999999999999996,5.7999999999999998,6.2000000000000002,6.5999999999999996,6.4000000000000004,5.7999999999999998,5.0999999999999996,5,4.9000000000000004,5.2999999999999998,5.4000000000000004,5.7000000000000002,5.2999999999999998,4.5999999999999996,4.2999999999999998,4.2999999999999998,4.5,4.5999999999999996,4.9000000000000004,5,4.5,4.0999999999999996,4.0999999999999996,4.5,4.2999999999999998,4.2999999999999998,4.5999999999999996,4.9000000000000004,4.9000000000000004,5.2999999999999998,6.0999999999999996,7,7.7999999999999998,7.5999999999999996,7.9000000000000004,8.0999999999999996,8.1999999999999993,7.9000000000000004,7.2000000000000002,7.2000000000000002,6.7999999999999998,6.5,6.4000000000000004,6.5999999999999996,6.5,6.2999999999999998,6,5.7999999999999998,5.2999999999999998,5.4000000000000004,5.5,5.7999999999999998,5.4000000000000004,5.4000000000000004,5.4000000000000004,5.7000000000000002,5.7999999999999998,5.7999999999999998,5.7999999999999998,5.5,5.5,5.5,5.2999999999999998,5.0999999999999996,5.2000000000000002,5.7999999999999998,6.0999999999999996,6.5999999999999996,7.0999999999999996,7.5,7.5,6.7000000000000002,6.2999999999999998,6.4000000000000004,6.9000000000000004,7.5,7.5,7.5999999999999996,7.5999999999999996,7.4000000000000004,7.4000000000000004,7.7999999999999998,7.5999999999999996,7.5999999999999996],\"text\":[\"period: 2000-02-01<br />value: 14.9\",\"period: 2000-03-01<br />value: 14.2\",\"period: 2000-04-01<br />value: 14.5\",\"period: 2000-05-01<br />value: 13.9\",\"period: 2000-06-01<br />value: 14.0\",\"period: 2000-07-01<br />value: 13.9\",\"period: 2000-08-01<br />value: 14.3\",\"period: 2000-09-01<br />value: 14.2\",\"period: 2000-10-01<br />value: 14.1\",\"period: 2000-11-01<br />value: 14.4\",\"period: 2000-12-01<br />value: 14.3\",\"period: 2001-01-01<br />value: 14.4\",\"period: 2001-02-01<br />value: 13.9\",\"period: 2001-03-01<br />value: 14.0\",\"period: 2001-04-01<br />value: 14.2\",\"period: 2001-05-01<br />value: 13.6\",\"period: 2001-06-01<br />value: 12.9\",\"period: 2001-07-01<br />value: 13.1\",\"period: 2001-08-01<br />value: 12.6\",\"period: 2001-09-01<br />value: 12.7\",\"period: 2001-10-01<br />value: 11.6\",\"period: 2001-11-01<br />value: 11.9\",\"period: 2001-12-01<br />value: 11.5\",\"period: 2002-01-01<br />value: 11.6\",\"period: 2002-02-01<br />value: 11.6\",\"period: 2002-03-01<br />value: 11.2\",\"period: 2002-04-01<br />value: 10.7\",\"period: 2002-05-01<br />value: 10.5\",\"period: 2002-06-01<br />value: 11.2\",\"period: 2002-07-01<br />value: 11.4\",\"period: 2002-08-01<br />value: 11.2\",\"period: 2002-09-01<br />value: 11.3\",\"period: 2002-10-01<br />value: 11.8\",\"period: 2002-11-01<br />value: 11.5\",\"period: 2002-12-01<br />value: 11.9\",\"period: 2003-01-01<br />value: 11.4\",\"period: 2003-02-01<br />value: 11.2\",\"period: 2003-03-01<br />value: 11.1\",\"period: 2003-04-01<br />value: 10.8\",\"period: 2003-05-01<br />value: 11.1\",\"period: 2003-06-01<br />value: 11.0\",\"period: 2003-07-01<br />value: 10.5\",\"period: 2003-08-01<br />value: 10.1\",\"period: 2003-09-01<br />value:  9.1\",\"period: 2003-10-01<br />value:  9.3\",\"period: 2003-11-01<br />value:  9.4\",\"period: 2003-12-01<br />value: 10.4\",\"period: 2004-01-01<br />value: 10.6\",\"period: 2004-02-01<br />value: 10.0\",\"period: 2004-03-01<br />value:  9.7\",\"period: 2004-04-01<br />value:  9.6\",\"period: 2004-05-01<br />value:  9.9\",\"period: 2004-06-01<br />value:  9.7\",\"period: 2004-07-01<br />value: 10.0\",\"period: 2004-08-01<br />value: 10.4\",\"period: 2004-09-01<br />value: 10.2\",\"period: 2004-10-01<br />value: 10.3\",\"period: 2004-11-01<br />value:  9.5\",\"period: 2004-12-01<br />value:  9.5\",\"period: 2005-01-01<br />value:  9.2\",\"period: 2005-02-01<br />value:  9.3\",\"period: 2005-03-01<br />value:  8.6\",\"period: 2005-04-01<br />value:  8.3\",\"period: 2005-05-01<br />value:  8.0\",\"period: 2005-06-01<br />value:  7.9\",\"period: 2005-07-01<br />value:  7.7\",\"period: 2005-08-01<br />value:  7.6\",\"period: 2005-09-01<br />value:  7.8\",\"period: 2005-10-01<br />value:  7.6\",\"period: 2005-11-01<br />value:  7.2\",\"period: 2005-12-01<br />value:  6.8\",\"period: 2006-01-01<br />value:  6.6\",\"period: 2006-02-01<br />value:  6.2\",\"period: 2006-03-01<br />value:  6.3\",\"period: 2006-04-01<br />value:  6.0\",\"period: 2006-05-01<br />value:  6.4\",\"period: 2006-06-01<br />value:  6.2\",\"period: 2006-07-01<br />value:  6.0\",\"period: 2006-08-01<br />value:  5.8\",\"period: 2006-09-01<br />value:  5.6\",\"period: 2006-10-01<br />value:  5.8\",\"period: 2006-11-01<br />value:  5.4\",\"period: 2006-12-01<br />value:  5.1\",\"period: 2007-01-01<br />value:  5.0\",\"period: 2007-02-01<br />value:  4.9\",\"period: 2007-03-01<br />value:  5.1\",\"period: 2007-04-01<br />value:  4.9\",\"period: 2007-05-01<br />value:  4.9\",\"period: 2007-06-01<br />value:  4.7\",\"period: 2007-07-01<br />value:  4.2\",\"period: 2007-08-01<br />value:  4.1\",\"period: 2007-09-01<br />value:  4.0\",\"period: 2007-10-01<br />value:  4.0\",\"period: 2007-11-01<br />value:  4.0\",\"period: 2007-12-01<br />value:  4.1\",\"period: 2008-01-01<br />value:  4.3\",\"period: 2008-02-01<br />value:  4.4\",\"period: 2008-03-01<br />value:  4.3\",\"period: 2008-04-01<br />value:  4.5\",\"period: 2008-05-01<br />value:  3.9\",\"period: 2008-06-01<br />value:  4.2\",\"period: 2008-07-01<br />value:  5.2\",\"period: 2008-08-01<br />value:  6.3\",\"period: 2008-09-01<br />value:  6.8\",\"period: 2008-10-01<br />value:  6.9\",\"period: 2008-11-01<br />value:  7.6\",\"period: 2008-12-01<br />value:  9.3\",\"period: 2009-01-01<br />value: 10.1\",\"period: 2009-02-01<br />value: 10.6\",\"period: 2009-03-01<br />value: 11.6\",\"period: 2009-04-01<br />value: 12.3\",\"period: 2009-05-01<br />value: 12.8\",\"period: 2009-06-01<br />value: 13.0\",\"period: 2009-07-01<br />value: 14.3\",\"period: 2009-08-01<br />value: 15.0\",\"period: 2009-09-01<br />value: 14.8\",\"period: 2009-10-01<br />value: 15.5\",\"period: 2009-11-01<br />value: 15.9\",\"period: 2009-12-01<br />value: 17.0\",\"period: 2010-01-01<br />value: 17.8\",\"period: 2010-02-01<br />value: 18.5\",\"period: 2010-03-01<br />value: 18.7\",\"period: 2010-04-01<br />value: 18.5\",\"period: 2010-05-01<br />value: 17.8\",\"period: 2010-06-01<br />value: 16.9\",\"period: 2010-07-01<br />value: 15.9\",\"period: 2010-08-01<br />value: 15.9\",\"period: 2010-09-01<br />value: 15.5\",\"period: 2010-10-01<br />value: 14.8\",\"period: 2010-11-01<br />value: 13.8\",\"period: 2010-12-01<br />value: 14.2\",\"period: 2011-01-01<br />value: 14.3\",\"period: 2011-02-01<br />value: 13.5\",\"period: 2011-03-01<br />value: 13.4\",\"period: 2011-04-01<br />value: 12.8\",\"period: 2011-05-01<br />value: 12.7\",\"period: 2011-06-01<br />value: 12.6\",\"period: 2011-07-01<br />value: 11.8\",\"period: 2011-08-01<br />value: 11.2\",\"period: 2011-09-01<br />value: 11.3\",\"period: 2011-10-01<br />value: 11.8\",\"period: 2011-11-01<br />value: 11.6\",\"period: 2011-12-01<br />value: 10.9\",\"period: 2012-01-01<br />value: 10.8\",\"period: 2012-02-01<br />value: 10.7\",\"period: 2012-03-01<br />value: 10.7\",\"period: 2012-04-01<br />value:  9.8\",\"period: 2012-05-01<br />value:  9.8\",\"period: 2012-06-01<br />value:  9.8\",\"period: 2012-07-01<br />value:  9.9\",\"period: 2012-08-01<br />value:  9.9\",\"period: 2012-09-01<br />value:  9.2\",\"period: 2012-10-01<br />value:  9.2\",\"period: 2012-11-01<br />value:  9.3\",\"period: 2012-12-01<br />value:  9.6\",\"period: 2013-01-01<br />value:  9.7\",\"period: 2013-02-01<br />value:  9.3\",\"period: 2013-03-01<br />value:  8.8\",\"period: 2013-04-01<br />value:  7.9\",\"period: 2013-05-01<br />value:  7.8\",\"period: 2013-06-01<br />value:  7.7\",\"period: 2013-07-01<br />value:  7.7\",\"period: 2013-08-01<br />value:  8.2\",\"period: 2013-09-01<br />value:  8.5\",\"period: 2013-10-01<br />value:  8.9\",\"period: 2013-11-01<br />value:  8.9\",\"period: 2013-12-01<br />value:  8.6\",\"period: 2014-01-01<br />value:  8.6\",\"period: 2014-02-01<br />value:  8.0\",\"period: 2014-03-01<br />value:  7.7\",\"period: 2014-04-01<br />value:  7.4\",\"period: 2014-05-01<br />value:  6.8\",\"period: 2014-06-01<br />value:  6.8\",\"period: 2014-07-01<br />value:  7.2\",\"period: 2014-08-01<br />value:  7.8\",\"period: 2014-09-01<br />value:  7.6\",\"period: 2014-10-01<br />value:  6.9\",\"period: 2014-11-01<br />value:  6.5\",\"period: 2014-12-01<br />value:  6.5\",\"period: 2015-01-01<br />value:  6.6\",\"period: 2015-02-01<br />value:  6.4\",\"period: 2015-03-01<br />value:  6.6\",\"period: 2015-04-01<br />value:  6.9\",\"period: 2015-05-01<br />value:  6.5\",\"period: 2015-06-01<br />value:  6.1\",\"period: 2015-07-01<br />value:  5.6\",\"period: 2015-08-01<br />value:  5.7\",\"period: 2015-09-01<br />value:  6.2\",\"period: 2015-10-01<br />value:  6.5\",\"period: 2015-11-01<br />value:  6.8\",\"period: 2015-12-01<br />value:  6.7\",\"period: 2016-01-01<br />value:  6.5\",\"period: 2016-02-01<br />value:  6.3\",\"period: 2016-03-01<br />value:  6.7\",\"period: 2016-04-01<br />value:  6.5\",\"period: 2016-05-01<br />value:  6.3\",\"period: 2016-06-01<br />value:  6.8\",\"period: 2016-07-01<br />value:  7.1\",\"period: 2016-08-01<br />value:  7.8\",\"period: 2016-09-01<br />value:  7.4\",\"period: 2016-10-01<br />value:  7.4\",\"period: 2016-11-01<br />value:  6.8\",\"period: 2016-12-01<br />value:  6.4\",\"period: 2017-01-01<br />value:  6.0\",\"period: 2017-02-01<br />value:  5.5\",\"period: 2017-03-01<br />value:  5.6\",\"period: 2017-04-01<br />value:  6.0\",\"period: 2017-05-01<br />value:  6.5\",\"period: 2017-06-01<br />value:  6.1\",\"period: 2017-07-01<br />value:  5.8\",\"period: 2017-08-01<br />value:  5.4\",\"period: 2017-09-01<br />value:  5.7\",\"period: 2017-10-01<br />value:  5.6\",\"period: 2017-11-01<br />value:  5.8\",\"period: 2017-12-01<br />value:  6.2\",\"period: 2018-01-01<br />value:  6.6\",\"period: 2018-02-01<br />value:  6.4\",\"period: 2018-03-01<br />value:  5.8\",\"period: 2018-04-01<br />value:  5.1\",\"period: 2018-05-01<br />value:  5.0\",\"period: 2018-06-01<br />value:  4.9\",\"period: 2018-07-01<br />value:  5.3\",\"period: 2018-08-01<br />value:  5.4\",\"period: 2018-09-01<br />value:  5.7\",\"period: 2018-10-01<br />value:  5.3\",\"period: 2018-11-01<br />value:  4.6\",\"period: 2018-12-01<br />value:  4.3\",\"period: 2019-01-01<br />value:  4.3\",\"period: 2019-02-01<br />value:  4.5\",\"period: 2019-03-01<br />value:  4.6\",\"period: 2019-04-01<br />value:  4.9\",\"period: 2019-05-01<br />value:  5.0\",\"period: 2019-06-01<br />value:  4.5\",\"period: 2019-07-01<br />value:  4.1\",\"period: 2019-08-01<br />value:  4.1\",\"period: 2019-09-01<br />value:  4.5\",\"period: 2019-10-01<br />value:  4.3\",\"period: 2019-11-01<br />value:  4.3\",\"period: 2019-12-01<br />value:  4.6\",\"period: 2020-01-01<br />value:  4.9\",\"period: 2020-02-01<br />value:  4.9\",\"period: 2020-03-01<br />value:  5.3\",\"period: 2020-04-01<br />value:  6.1\",\"period: 2020-05-01<br />value:  7.0\",\"period: 2020-06-01<br />value:  7.8\",\"period: 2020-07-01<br />value:  7.6\",\"period: 2020-08-01<br />value:  7.9\",\"period: 2020-09-01<br />value:  8.1\",\"period: 2020-10-01<br />value:  8.2\",\"period: 2020-11-01<br />value:  7.9\",\"period: 2020-12-01<br />value:  7.2\",\"period: 2021-01-01<br />value:  7.2\",\"period: 2021-02-01<br />value:  6.8\",\"period: 2021-03-01<br />value:  6.5\",\"period: 2021-04-01<br />value:  6.4\",\"period: 2021-05-01<br />value:  6.6\",\"period: 2021-06-01<br />value:  6.5\",\"period: 2021-07-01<br />value:  6.3\",\"period: 2021-08-01<br />value:  6.0\",\"period: 2021-09-01<br />value:  5.8\",\"period: 2021-10-01<br />value:  5.3\",\"period: 2021-11-01<br />value:  5.4\",\"period: 2021-12-01<br />value:  5.5\",\"period: 2022-01-01<br />value:  5.8\",\"period: 2022-02-01<br />value:  5.4\",\"period: 2022-03-01<br />value:  5.4\",\"period: 2022-04-01<br />value:  5.4\",\"period: 2022-05-01<br />value:  5.7\",\"period: 2022-06-01<br />value:  5.8\",\"period: 2022-07-01<br />value:  5.8\",\"period: 2022-08-01<br />value:  5.8\",\"period: 2022-09-01<br />value:  5.5\",\"period: 2022-10-01<br />value:  5.5\",\"period: 2022-11-01<br />value:  5.5\",\"period: 2022-12-01<br />value:  5.3\",\"period: 2023-01-01<br />value:  5.1\",\"period: 2023-02-01<br />value:  5.2\",\"period: 2023-03-01<br />value:  5.8\",\"period: 2023-04-01<br />value:  6.1\",\"period: 2023-05-01<br />value:  6.6\",\"period: 2023-06-01<br />value:  7.1\",\"period: 2023-07-01<br />value:  7.5\",\"period: 2023-08-01<br />value:  7.5\",\"period: 2023-09-01<br />value:  6.7\",\"period: 2023-10-01<br />value:  6.3\",\"period: 2023-11-01<br />value:  6.4\",\"period: 2023-12-01<br />value:  6.9\",\"period: 2024-01-01<br />value:  7.5\",\"period: 2024-02-01<br />value:  7.5\",\"period: 2024-03-01<br />value:  7.6\",\"period: 2024-04-01<br />value:  7.6\",\"period: 2024-05-01<br />value:  7.4\",\"period: 2024-06-01<br />value:  7.4\",\"period: 2024-07-01<br />value:  7.8\",\"period: 2024-08-01<br />value:  7.6\",\"period: 2024-09-01<br />value:  7.6\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":3.7795275590551185,\"color\":\"rgba(70,130,180,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":48.146118721461193,\"r\":7.3059360730593621,\"b\":44.56621004566211,\"l\":37.260273972602747},\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Unemployment Rate in  Estonia\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[10539.049999999999,20415.950000000001],\"tickmode\":\"array\",\"ticktext\":[\"2000\",\"2010\",\"2020\"],\"tickvals\":[10957,14610,18262],\"categoryorder\":\"array\",\"categoryarray\":[\"2000\",\"2010\",\"2020\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Date\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[3.1600000000000001,19.439999999999998],\"tickmode\":\"array\",\"ticktext\":[\"5\",\"10\",\"15\"],\"tickvals\":[5,10,15],\"categoryorder\":\"array\",\"categoryarray\":[\"5\",\"10\",\"15\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Percent\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":null,\"bordercolor\":null,\"borderwidth\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"76a283a3531\":{\"x\":{},\"y\":{},\"type\":\"scatter\"}},\"cur_data\":\"76a283a3531\",\"visdat\":{\"76a283a3531\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n---\n\n### How do we find the series ID/mask/dimensions?\n\n- Go to the [DBnomics website](https://db.nomics.world/)\n  - Search directly for a series or pick a provider\n  - Search for the [data](https://db.nomics.world/Eurostat/ei_lmhr_m?tab=list) you want (dataset_code)\n  - Click on the [series](https://db.nomics.world/Eurostat/ei_lmhr_m/M.PC_ACT.SA.LM-UN-T-TOT.EE) (series_code) \n  - Copy the series ID from the URL  \n\n---\n\n- Show the available datasets of a provider:\n\n::: {.fragment}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(rdb_datasets(provider_code = \"Eurostat\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$Eurostat\n              code\n            <char>\n   1:   aact_ali01\n   2:   aact_ali02\n   3:   aact_eaa01\n   4:   aact_eaa02\n   5:   aact_eaa03\n  ---             \n8289: yth_empl_120\n8290: yth_empl_130\n8291: yth_empl_130\n8292: yth_empl_140\n8293: yth_empl_140\n                                                                                        name\n                                                                                      <char>\n   1:       Agricultural labour input statistics: absolute figures (1 000 annual work units)\n   2:                                          Agricultural labour input statistics: indices\n   3:                           Economic accounts for agriculture - values at current prices\n   4:                               Economic accounts for agriculture - values at n-1 prices\n   5:             Economic accounts for agriculture - values at constant prices (2015 = 100)\n  ---                                                                                       \n8289:                 Youth long-term unemployment rate (12 months or longer) by sex and age\n8290: Youth long-term unemployment rate (12 months or longer) by sex, age and NUTS 2 regions\n8291:  Youth long-term unemployment rate (12 months or longer) by sex, age and NUTS 2 region\n8292:                                Youth unemployment ratio by sex, age and NUTS 2 regions\n8293:                                 Youth unemployment ratio by sex, age and NUTS 2 region\n```\n\n\n:::\n:::\n\n:::\n\n---\n\n- Show the dimensions of a dataset:\n\n::: {.fragment}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(rdb_dimensions(provider_code = \"Eurostat\", dataset_code = \"ei_lmhr_m\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$Eurostat\n$Eurostat$ei_lmhr_m\n$Eurostat$ei_lmhr_m$freq\n     freq Time frequency\n   <char>         <char>\n1:      M        Monthly\n\n$Eurostat$ei_lmhr_m$geo\n          geo           Geopolitical entity (reporting)\n       <char>                                    <char>\n 1:        AT                                   Austria\n 2:        BA                    Bosnia and Herzegovina\n 3:        BE                                   Belgium\n 4:        BG                                  Bulgaria\n 5:        CH                               Switzerland\n 6:        CY                                    Cyprus\n 7:        CZ                                   Czechia\n 8:        DE                                   Germany\n 9:        DK                                   Denmark\n10:      EA20      Euro area ‚Äì 20 countries (from 2023)\n11:        EE                                   Estonia\n12:        EL                                    Greece\n13:        ES                                     Spain\n14: EU27_2020 European Union - 27 countries (from 2020)\n15:        FI                                   Finland\n16:        FR                                    France\n17:        HR                                   Croatia\n18:        HU                                   Hungary\n19:        IE                                   Ireland\n20:        IS                                   Iceland\n21:        IT                                     Italy\n22:        JP                                     Japan\n23:        LT                                 Lithuania\n24:        LU                                Luxembourg\n25:        LV                                    Latvia\n26:        MT                                     Malta\n27:        NL                               Netherlands\n28:        NO                                    Norway\n29:        PL                                    Poland\n30:        PT                                  Portugal\n31:        RO                                   Romania\n32:        SE                                    Sweden\n33:        SI                                  Slovenia\n34:        SK                                  Slovakia\n35:        TR                                   T√ºrkiye\n36:        UK                            United Kingdom\n37:        US                             United States\n          geo           Geopolitical entity (reporting)\n\n$Eurostat$ei_lmhr_m$indic\n          indic\n         <char>\n1: LM-UN-F-GT25\n2: LM-UN-F-LE25\n3:  LM-UN-F-TOT\n4: LM-UN-M-GT25\n5: LM-UN-M-LE25\n6:  LM-UN-M-TOT\n7: LM-UN-T-GT25\n8: LM-UN-T-LE25\n9:  LM-UN-T-TOT\n                                                             Indicator\n                                                                <char>\n1:  Unemployment according to ILO definition - over 25 years - females\n2: Unemployment according to ILO definition - under 25 years - females\n3:                  Unemployment according to ILO definition - females\n4:    Unemployment according to ILO definition - over 25 years - males\n5:   Unemployment according to ILO definition - under 25 years - males\n6:                    Unemployment according to ILO definition - males\n7:    Unemployment according to ILO definition - over 25 years - total\n8:   Unemployment according to ILO definition - under 25 years - total\n9:                    Unemployment according to ILO definition - total\n\n$Eurostat$ei_lmhr_m$s_adj\n    s_adj\n   <char>\n1:    NSA\n2:     SA\n                                                             Seasonal adjustment\n                                                                          <char>\n1: Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)\n2:                          Seasonally adjusted data, not calendar adjusted data\n\n$Eurostat$ei_lmhr_m$unit\n     unit                              Unit of measure\n   <char>                                       <char>\n1: PC_ACT Percentage of population in the labour force\n```\n\n\n:::\n:::\n\n:::\n\n---\n\n\n - Query to filter/select series from a provider's dataset\n\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(rdb_series(\n  provider = \"Eurostat\",\n  dataset_code = \"ei_lmhr_m\",\n  query = \"United Kingdom\"\n))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$Eurostat\n$Eurostat$ei_lmhr_m\n                     series_code\n                          <char>\n 1: M.PC_ACT.NSA.LM-UN-F-GT25.UK\n 2: M.PC_ACT.NSA.LM-UN-F-LE25.UK\n 3:  M.PC_ACT.NSA.LM-UN-F-TOT.UK\n 4: M.PC_ACT.NSA.LM-UN-M-GT25.UK\n 5: M.PC_ACT.NSA.LM-UN-M-LE25.UK\n 6:  M.PC_ACT.NSA.LM-UN-M-TOT.UK\n 7: M.PC_ACT.NSA.LM-UN-T-GT25.UK\n 8: M.PC_ACT.NSA.LM-UN-T-LE25.UK\n 9:  M.PC_ACT.NSA.LM-UN-T-TOT.UK\n10:  M.PC_ACT.SA.LM-UN-F-GT25.UK\n11:  M.PC_ACT.SA.LM-UN-F-LE25.UK\n12:   M.PC_ACT.SA.LM-UN-F-TOT.UK\n13:  M.PC_ACT.SA.LM-UN-M-GT25.UK\n14:  M.PC_ACT.SA.LM-UN-M-LE25.UK\n15:   M.PC_ACT.SA.LM-UN-M-TOT.UK\n16:  M.PC_ACT.SA.LM-UN-T-GT25.UK\n17:  M.PC_ACT.SA.LM-UN-T-LE25.UK\n18:   M.PC_ACT.SA.LM-UN-T-TOT.UK\n                                                                                                                                                                                                                      series_name\n                                                                                                                                                                                                                           <char>\n 1:  Monthly ‚Äì Percentage of population in the labour force ‚Äì Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) ‚Äì Unemployment according to ILO definition - over 25 years - females ‚Äì United Kingdom\n 2: Monthly ‚Äì Percentage of population in the labour force ‚Äì Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) ‚Äì Unemployment according to ILO definition - under 25 years - females ‚Äì United Kingdom\n 3:                  Monthly ‚Äì Percentage of population in the labour force ‚Äì Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) ‚Äì Unemployment according to ILO definition - females ‚Äì United Kingdom\n 4:    Monthly ‚Äì Percentage of population in the labour force ‚Äì Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) ‚Äì Unemployment according to ILO definition - over 25 years - males ‚Äì United Kingdom\n 5:   Monthly ‚Äì Percentage of population in the labour force ‚Äì Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) ‚Äì Unemployment according to ILO definition - under 25 years - males ‚Äì United Kingdom\n 6:                    Monthly ‚Äì Percentage of population in the labour force ‚Äì Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) ‚Äì Unemployment according to ILO definition - males ‚Äì United Kingdom\n 7:    Monthly ‚Äì Percentage of population in the labour force ‚Äì Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) ‚Äì Unemployment according to ILO definition - over 25 years - total ‚Äì United Kingdom\n 8:   Monthly ‚Äì Percentage of population in the labour force ‚Äì Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) ‚Äì Unemployment according to ILO definition - under 25 years - total ‚Äì United Kingdom\n 9:                    Monthly ‚Äì Percentage of population in the labour force ‚Äì Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data) ‚Äì Unemployment according to ILO definition - total ‚Äì United Kingdom\n10:                           Monthly ‚Äì Percentage of population in the labour force ‚Äì Seasonally adjusted data, not calendar adjusted data ‚Äì Unemployment according to ILO definition - over 25 years - females ‚Äì United Kingdom\n11:                          Monthly ‚Äì Percentage of population in the labour force ‚Äì Seasonally adjusted data, not calendar adjusted data ‚Äì Unemployment according to ILO definition - under 25 years - females ‚Äì United Kingdom\n12:                                           Monthly ‚Äì Percentage of population in the labour force ‚Äì Seasonally adjusted data, not calendar adjusted data ‚Äì Unemployment according to ILO definition - females ‚Äì United Kingdom\n13:                             Monthly ‚Äì Percentage of population in the labour force ‚Äì Seasonally adjusted data, not calendar adjusted data ‚Äì Unemployment according to ILO definition - over 25 years - males ‚Äì United Kingdom\n14:                            Monthly ‚Äì Percentage of population in the labour force ‚Äì Seasonally adjusted data, not calendar adjusted data ‚Äì Unemployment according to ILO definition - under 25 years - males ‚Äì United Kingdom\n15:                                             Monthly ‚Äì Percentage of population in the labour force ‚Äì Seasonally adjusted data, not calendar adjusted data ‚Äì Unemployment according to ILO definition - males ‚Äì United Kingdom\n16:                             Monthly ‚Äì Percentage of population in the labour force ‚Äì Seasonally adjusted data, not calendar adjusted data ‚Äì Unemployment according to ILO definition - over 25 years - total ‚Äì United Kingdom\n17:                            Monthly ‚Äì Percentage of population in the labour force ‚Äì Seasonally adjusted data, not calendar adjusted data ‚Äì Unemployment according to ILO definition - under 25 years - total ‚Äì United Kingdom\n18:                                             Monthly ‚Äì Percentage of population in the labour force ‚Äì Seasonally adjusted data, not calendar adjusted data ‚Äì Unemployment according to ILO definition - total ‚Äì United Kingdom\n```\n\n\n:::\n:::\n\n:::\n\n\n## Fetch two (or more) series at once\n\n - Example: Balance of Payments (BOP) for France and Germany from the [IMF](https://db.nomics.world/IMF/BOP?tab=list) for Current Account, Total, Net, Euros, Millions, Annual\n\n\n::: {.fragment}\n\n::: {.panel-tabset}\n\n### Option A\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# by ID\nbop <- rdb(ids = c(\"IMF/BOP/A.FR.BCA_BP6_EUR\", \"IMF/BOP/A.DE.BCA_BP6_EUR\"))\nbop %>% count(`Reference Area`)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Reference Area     n\n           <char> <int>\n1:         France    15\n2:        Germany    26\n```\n\n\n:::\n:::\n\n\n### Option B: \n\n::: {.cell}\n\n```{.r .cell-code}\n# by Mask\nbop <- rdb(provider = \"IMF\",\n           dataset_code =  \"BOP\",\n           mask = \"A.FR+DE.BCA_BP6_EUR\")\nbop %>% count(`Reference Area`)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Reference Area     n\n           <char> <int>\n1:         France    15\n2:        Germany    26\n```\n\n\n:::\n:::\n\n\n### Option C: \n\n \n\n<span style=\"color:red; font-weight:bold;\">‚ö†Ô∏èYou must specify all dimensions!</span>\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# by Dimension\ndim <- list(\n  REF_AREA = c(\"DE\", \"FR\"),\n  INDICATOR = c(\"BCA_BP6_EUR\"),\n  FREQ = \"A\"\n)\nbop <- rdb(provider = \"IMF\", dataset_code = \"BOP\", dimensions = dim)\nbop %>% count(`Reference Area`)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Reference Area     n\n           <char> <int>\n1:         France    15\n2:        Germany    26\n```\n\n\n:::\n:::\n\n\n:::\n\n:::\n\n---\n\n\n\n::: {.cell output-location='slide'}\n\n```{.r .cell-code}\n# Line plot with color by country\np2 <- ggplot(bop, aes(x = period, y = value, color = `Reference Area`)) +\n  geom_step(linewidth = 1) +\n  labs(\n    title = \"Balance of Payments (BCA, EUR)\",\n    subtitle = \"France vs Germany ‚Äî Annual\",\n    x = \"Year\",\n    y = \"EUR (Millions)\",\n    caption = \"Source: IMF / DBnomics\"\n  ) +\n  theme_minimal()\np2\n```\n\n::: {.cell-output-display}\n![](fetching_files/figure-revealjs/unnamed-chunk-14-1.png){width=960}\n:::\n:::\n\n## Fetch two series from different datasets of different providers \n\n::: {.cell}\n\n```{.r .cell-code}\nunemp2 <- rdb(ids = c(\"AMECO/ZUTN/EA19.1.0.0.0.ZUTN\", \"Eurostat/une_rt_q/Q.SA.Y15-24.PC_ACT.T.EA19\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# See which providers and datasets are included\ndim(unemp2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 122  27\n```\n\n\n:::\n\n```{.r .cell-code}\nunique(unemp2$provider_code)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"AMECO\"    \"Eurostat\"\n```\n\n\n:::\n\n```{.r .cell-code}\nunique(unemp2$dataset_code)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"ZUTN\"     \"une_rt_q\"\n```\n\n\n:::\n\n```{.r .cell-code}\nunique(unemp2$series_code)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"EA19.1.0.0.0.ZUTN\"         \"Q.SA.Y15-24.PC_ACT.T.EA19\"\n```\n\n\n:::\n\n```{.r .cell-code}\nunique(unemp2$`@frequency`)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"annual\"    \"quarterly\"\n```\n\n\n:::\n\n```{.r .cell-code}\nunique(unemp2$`Seasonal adjustment`)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] NA                                                    \n[2] \"Seasonally adjusted data, not calendar adjusted data\"\n```\n\n\n:::\n:::\n\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n# Summarize coverage and data availability\nunemp2_summary <- unemp2 %>%\n  group_by(series_code) %>%\n  summarize(\n    provider = first(provider_code),\n    dataset = first(dataset_code),\n    start_all = min(period, na.rm = TRUE),\n    end_all = max(period, na.rm = TRUE),\n    start_data = min(period[!is.na(value)]),\n    end_data = max(period[!is.na(value)]),\n    n_obs = sum(!is.na(value)),\n    .groups = \"drop\"\n  )\n```\n:::\n\n\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nunemp2_summary_table <- unemp2_summary |> \ngt() %>%\n  tab_header(\n    title = \"Time Coverage and Non-Missing Observations\",\n    subtitle = \"For Each Series from AMECO and Eurostat\"\n  ) %>%\n  cols_label(\n    series_code = \"Series ID\",\n    provider = \"Provider\",\n    dataset = \"Dataset\",\n    start_all = \"Start (all)\",\n    end_all = \"End (all)\",\n    start_data = \"Start (non-NA)\",\n    end_data = \"End (non-NA)\",\n    n_obs = \"# Obs\"\n  ) %>%\n  fmt_date(\n    columns = c(start_all, end_all, start_data, end_data),\n    date_style = \"iso\"\n  ) %>%\n  tab_options(\n    table.width = pct(100),\n    column_labels.font.weight = \"bold\"\n  )\n```\n:::\n\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nunemp2_summary_table\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"sgnvnlgnhe\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#sgnvnlgnhe table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#sgnvnlgnhe thead, #sgnvnlgnhe tbody, #sgnvnlgnhe tfoot, #sgnvnlgnhe tr, #sgnvnlgnhe td, #sgnvnlgnhe th {\n  border-style: none;\n}\n\n#sgnvnlgnhe p {\n  margin: 0;\n  padding: 0;\n}\n\n#sgnvnlgnhe .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: 100%;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#sgnvnlgnhe .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#sgnvnlgnhe .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#sgnvnlgnhe .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#sgnvnlgnhe .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sgnvnlgnhe .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sgnvnlgnhe .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sgnvnlgnhe .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: bold;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#sgnvnlgnhe .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: bold;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#sgnvnlgnhe .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#sgnvnlgnhe .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#sgnvnlgnhe .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#sgnvnlgnhe .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#sgnvnlgnhe .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#sgnvnlgnhe .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#sgnvnlgnhe .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#sgnvnlgnhe .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#sgnvnlgnhe .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#sgnvnlgnhe .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sgnvnlgnhe .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#sgnvnlgnhe .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#sgnvnlgnhe .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#sgnvnlgnhe .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sgnvnlgnhe .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#sgnvnlgnhe .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#sgnvnlgnhe .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sgnvnlgnhe .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sgnvnlgnhe .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#sgnvnlgnhe .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sgnvnlgnhe .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#sgnvnlgnhe .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sgnvnlgnhe .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sgnvnlgnhe .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sgnvnlgnhe .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sgnvnlgnhe .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sgnvnlgnhe .gt_left {\n  text-align: left;\n}\n\n#sgnvnlgnhe .gt_center {\n  text-align: center;\n}\n\n#sgnvnlgnhe .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#sgnvnlgnhe .gt_font_normal {\n  font-weight: normal;\n}\n\n#sgnvnlgnhe .gt_font_bold {\n  font-weight: bold;\n}\n\n#sgnvnlgnhe .gt_font_italic {\n  font-style: italic;\n}\n\n#sgnvnlgnhe .gt_super {\n  font-size: 65%;\n}\n\n#sgnvnlgnhe .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#sgnvnlgnhe .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#sgnvnlgnhe .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#sgnvnlgnhe .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#sgnvnlgnhe .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#sgnvnlgnhe .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#sgnvnlgnhe .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#sgnvnlgnhe .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#sgnvnlgnhe div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"8\" class=\"gt_heading gt_title gt_font_normal\" style>Time Coverage and Non-Missing Observations</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"8\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>For Each Series from AMECO and Eurostat</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"series_code\">Series ID</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"provider\">Provider</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"dataset\">Dataset</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"start_all\">Start (all)</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"end_all\">End (all)</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"start_data\">Start (non-NA)</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"end_data\">End (non-NA)</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"n_obs\"># Obs</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"series_code\" class=\"gt_row gt_left\">EA19.1.0.0.0.ZUTN</td>\n<td headers=\"provider\" class=\"gt_row gt_left\">AMECO</td>\n<td headers=\"dataset\" class=\"gt_row gt_left\">ZUTN</td>\n<td headers=\"start_all\" class=\"gt_row gt_right\">1960-01-01</td>\n<td headers=\"end_all\" class=\"gt_row gt_right\">2026-01-01</td>\n<td headers=\"start_data\" class=\"gt_row gt_right\">1997-01-01</td>\n<td headers=\"end_data\" class=\"gt_row gt_right\">2026-01-01</td>\n<td headers=\"n_obs\" class=\"gt_row gt_right\">30</td></tr>\n    <tr><td headers=\"series_code\" class=\"gt_row gt_left\">Q.SA.Y15-24.PC_ACT.T.EA19</td>\n<td headers=\"provider\" class=\"gt_row gt_left\">Eurostat</td>\n<td headers=\"dataset\" class=\"gt_row gt_left\">une_rt_q</td>\n<td headers=\"start_all\" class=\"gt_row gt_right\">2009-01-01</td>\n<td headers=\"end_all\" class=\"gt_row gt_right\">2022-07-01</td>\n<td headers=\"start_data\" class=\"gt_row gt_right\">2009-01-01</td>\n<td headers=\"end_data\" class=\"gt_row gt_right\">2022-07-01</td>\n<td headers=\"n_obs\" class=\"gt_row gt_right\">55</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n----\n\n::: {.cell}\n\n```{.r .cell-code}\n# Metadata vectors\nproviders <- unique(unemp2$provider_code)\ndatasets <- unique(unemp2$dataset_code)\nseries_ids <- unique(unemp2$series_code)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a label that combines dataset + series ID\nunemp2_clean <- unemp2 %>%\n  drop_na(value) %>%\n  mutate(label = case_when(\n    series_code == \"EA19.1.0.0.0.ZUTN\" ~ \"Total, AMECO\",\n    series_code == \"Q.SA.Y15-24.PC_ACT.T.EA19\" ~ \"Youth (15‚Äì24), Eurostat\",\n    TRUE ~ series_code\n  ))\n```\n:::\n\n\n--- \n\n::: {.cell output-location='slide'}\n\n```{.r .cell-code}\np3 <- ggplot(unemp2_clean, aes(x = period, y = value, color = label)) +\n  geom_line(linewidth = 1) +\n  labs(\n    title = \"Unemployment Rates from Multiple Sources (EA19)\",\n    subtitle = \"AMECO and Eurostat ‚Äî Different definitions\",\n    x = \"Year\", y = \"Percent\",\n    caption = paste(\"Series IDs:\", paste(unique(unemp2_clean$series_code), collapse = \" | \"))\n  ) +\n  theme_minimal()\np3\n```\n\n::: {.cell-output-display}\n![](fetching_files/figure-revealjs/unnamed-chunk-22-1.png){width=960}\n:::\n:::\n\n## Fetch large amounts of data \n\n - Sometimes you need to fetch many if not all dimensions of the data\n - You can wildcard dimension and post-filter\n - Example: MFI Interest Rate Statistics from the ECB\n    - Start with a [single series](https://db.nomics.world/ECB/MIR/M.EE.B.A2C.A.R.A.2250.EUR.N) (Estonia, mortgage rates)\n \n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nmir_mortgage_ee <- rdb(\"ECB\", \"MIR\", \"M.EE.B.A2C.A.R.A.2250.EUR.N\")\nunique(mir_mortgage_ee$series_name)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Monthly ‚Äì Estonia ‚Äì Deposit-taking corporations except the central bank (S.122) ‚Äì Lending for house purchase excluding revolving loans and overdrafts, convenience and extended credit card debt ‚Äì Total ‚Äì Annualised agreed rate (AAR) / Narrowly defined effective rate (NDER) ‚Äì Total ‚Äì Households and non-profit institutions serving households (S.14 and S.15) ‚Äì Euro ‚Äì New business\"\n```\n\n\n:::\n:::\n\n:::\n\n---\n\n### Wildcarding dimensions\n\n  - To fetch **multiple values** for a dimension (e.g. countries), just **remove** the value from that position \n    - Example: remove `\"EE\"` to fetch all countries (`REF_AREA`)\n\n::: {.fragment}\n\n<span style=\"color:red;\">‚ö†Ô∏è This can take a while</span>\n\n::: {.cell}\n\n```{.r .cell-code}\n# mir_mortgage_ee <- rdb(\"ECB\", \"MIR\", \"M.EE.B.A2C.A.R.A.2250.EUR.N\")\nmir <- rdb(\"ECB\", \"MIR\", \"M..B..A.R.A..EUR.N\")\nunique(mir$REF_AREA)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"AT\" \"BE\" \"CY\" \"DE\" \"EE\" \"ES\" \"FI\" \"FR\" \"GR\" \"HR\" \"IE\" \"IT\" \"LT\" \"LU\" \"LV\"\n[16] \"MT\" \"NL\" \"PT\" \"SI\" \"SK\" \"U2\"\n```\n\n\n:::\n\n```{.r .cell-code}\nunique(mir$BS_ITEM)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"A2A\"  \"A2AC\" \"A2B\"  \"A2BC\" \"A2C\"  \"A2CC\" \"A2D\"  \"A2Z\"  \"A2Z1\" \"A2Z3\"\n[11] \"L21\"  \"L22\"  \"L23\"  \"L24\" \n```\n\n\n:::\n\n```{.r .cell-code}\nunique(mir$`BS counterpart sector`)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Non-Financial corporations (S.11)\"                                           \n[2] \"Households and non-profit institutions serving households (S.14 and S.15)\"   \n[3] \"Households of which sole proprietors and unincorporated partnerships (SP/UP)\"\n[4] \"Non-Financial corporations and Households (S.11 and S.14 and S.15)\"          \n```\n\n\n:::\n:::\n\n:::\n \n---\n\n### Filter and plot \n\n- Filter Estonia, Latvia and Lithuania\n- Keep only selected **BS items** (loan categories)  \n\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\n# Filter by BS_ITEM and countries\nmir_filtered <- mir %>%\n  filter(\n    REF_AREA %in% c(\"EE\", \"LV\", \"LT\"),\n    BS_ITEM %in% c(\"A2I\", \"A2C\", \"A2B\", \"A2J\", \"A2A\")\n  )\n```\n:::\n\n:::\n\n---\n\n### Plot interest rates by country & type\n\n::: {.fragment}\n\n\n::: {.cell output-location='slide'}\n\n```{.r .cell-code}\ncountry_list <- paste(sort(unique(mir_filtered$REF_AREA)), collapse = \", \")\nitem_list <- paste(unique(mir_filtered$BS_ITEM), collapse = \", \")\n\ncaption_text <- paste(\n  \"Source: ECB / DBnomics ‚Äî Dataset code: MIR\",\n  paste0(\"\\nFiltered: REF_AREA in \", country_list, \"; BS_ITEM in \", item_list)\n)\n\nmir_filtered <- mir_filtered %>%\n  mutate(facet_label = paste0(`BS counterpart sector`, \".\\n\\n\", `Balance sheet item`))\n\np4 <- ggplot(mir_filtered, aes(x = period, y = value, color = REF_AREA)) +\n  geom_line(linewidth = 0.8) +\n  facet_wrap(~ facet_label, labeller = label_wrap_gen(width = 30), ncol = 3) +\n  labs(\n    title = \"Interest Rates for Households and Firms\",\n    subtitle = \"Faceted by Loan Type and Borrower Sector\",\n    x = \"Date\", y = \"Percent\",\n    caption = caption_text\n  ) +\n  theme_minimal() +\n  theme(legend.position = \"bottom\")\np4\n```\n\n::: {.cell-output-display}\n![](fetching_files/figure-revealjs/unnamed-chunk-26-1.png){width=960}\n:::\n:::\n\n:::\n\n---\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"../site_libs/plotly-binding-4.10.4/plotly.js\"></script>\n<script src=\"../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}